{"version":3,"sources":["webpack:///./resources/routes/moderation/components/disputedTrades/index.js","webpack:///./resources/routes/moderation/index.js"],"names":["messages","defineMessages","pageTitle","DisputedTrades","history","path","generatePath","menuItemLinks","token","chatId","title","dataIndex","render","seller","buyer","whiteSpace","record","maxWidth","key","fixed","intl","name","context","endpoint","route","x","y","Component","pipe","Moderation","match"],"mappings":"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","file":"js/chunks/28.e73ebb43d377b5d47afa.js","sourcesContent":["import React, {Component} from 'react';\r\nimport ApiService, {route} from \"support/Services/Api\";\r\nimport menuItemLinks from \"containers/utils/menuItemLinks\";\r\nimport {isEmpty} from \"lodash\";\r\nimport {generatePath} from \"react-router-dom\";\r\nimport {defineMessages, FormattedMessage, injectIntl} from \"react-intl\";\r\nimport UserTableCell from \"components/UserTableCell\";\r\nimport {Button, Icon, Popover} from \"antd\";\r\nimport Widget from \"components/Widget\";\r\nimport AsyncTable from \"components/AsyncTable\";\r\nimport PrivateBroadcast from \"support/Services/Broadcast/Private\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport context from \"context\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst messages = defineMessages({\r\n\tpageTitle : {\r\n\t\tdefaultMessage : \"Disputed Trades - Moderation | {name}\",\r\n\t\tid             : \"meta.title.moderation_disputed_trades\"\r\n\t},\r\n});\r\n\r\nclass DisputedTrades extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.broadcast = new PrivateBroadcast();\r\n\t\tthis.api = new ApiService();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.bindBroadcastEvents();\r\n\t}\r\n\r\n\tbindBroadcastEvents() {\r\n\t\tthis.resetBroadcastChannel();\r\n\t\tthis.broadcast.listen('MarketplaceTradeSaved', this.marketplaceTradeSavedListener);\r\n\t}\r\n\r\n\tmarketplaceTradeSavedListener = (e) => {\r\n\t\tthis.table.fetchData();\r\n\t};\r\n\r\n\tresetBroadcastChannel() {\r\n\t\tthis.broadcast.setChannel('Permission.ManageMarketplace')\r\n\t}\r\n\r\n\tgoToChat = (chatId) => {\r\n\t\tconst {history} = this.props;\r\n\r\n\t\tconst path = generatePath(menuItemLinks['chat.view'].path, {\r\n\t\t\ttoken : chatId\r\n\t\t});\r\n\r\n\t\tif (!isEmpty(history)) {\r\n\t\t\treturn history.push(path);\r\n\t\t}\r\n\t};\r\n\r\n\tcolumns = () => {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Coin\"\r\n\t\t\t\t\t\tid=\"common.coin\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'coin_name',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Amount\"\r\n\t\t\t\t\t\tid=\"common.amount\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'formatted_amount_price',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Seller\"\r\n\t\t\t\t\t\tid=\"common.seller\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'seller',\r\n\t\t\t\trender    : (seller) => (\r\n\t\t\t\t\t<UserTableCell user={seller}/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Buyer\"\r\n\t\t\t\t\t\tid=\"common.buyer\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'buyer',\r\n\t\t\t\trender    : (buyer) => (\r\n\t\t\t\t\t<UserTableCell user={buyer}/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Rate\"\r\n\t\t\t\t\t\tid=\"common.rate\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'formatted_rate',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Payment Method\"\r\n\t\t\t\t\t\tid=\"common.payment_method\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'payment_method_name',\r\n\t\t\t\trender    : (payment_method_name, record) => (\r\n\t\t\t\t\t<div style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t<span className=\"mr-2\">\r\n\t\t\t\t\t\t\t{payment_method_name}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t{record.payment_method_description && (\r\n\t\t\t\t\t\t\t<Popover overlayStyle={{maxWidth : 250}}\r\n\t\t\t\t\t\t\t         content={record.payment_method_description}\r\n\t\t\t\t\t\t\t         title={\r\n\t\t\t\t\t\t\t\t         <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t         id=\"common.payment_method_description\"\r\n\t\t\t\t\t\t\t\t\t         defaultMessage=\"Description\"/>\r\n\t\t\t\t\t\t\t         }\r\n\t\t\t\t\t\t\t         trigger=\"click\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle\" theme=\"filled\"/>\r\n\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle  : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Action\"\r\n\t\t\t\t\t\tid=\"common.action\"/>\r\n\t\t\t\t),\r\n\t\t\t\tkey    : 'action',\r\n\t\t\t\tfixed  : 'right',\r\n\t\t\t\trender : (text, record) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Button type=\"primary\"\r\n\t\t\t\t\t\t        onClick={(e) => this.goToChat(record.chat_id)}\r\n\t\t\t\t\t\t        icon=\"link\"/>\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.broadcast.unbind();\r\n\t\tthis.api.cancel()\r\n\t}\r\n\r\n\tgetPageTitle() {\r\n\t\tconst {intl} = this.props;\r\n\r\n\t\treturn intl.formatMessage(messages.pageTitle, {\r\n\t\t\tname : context.name\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst endpoint = route(\"moderation.disputed-trades.table\");\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>\r\n\t\t\t\t\t\t{this.getPageTitle()}\r\n\t\t\t\t\t</title>\r\n\t\t\t\t</Helmet>\r\n\r\n\t\t\t\t<Widget styleName=\"cp-card-table\"\r\n\t\t\t\t        title={\r\n\t\t\t\t\t        <FormattedMessage\r\n\t\t\t\t\t\t        defaultMessage=\"Disputed Trades\"\r\n\t\t\t\t\t\t        id=\"moderation.disputed_trades\"/>\r\n\t\t\t\t        }>\r\n\t\t\t\t\t<AsyncTable\r\n\t\t\t\t\t\troute={endpoint.url()}\r\n\t\t\t\t\t\tcolumns={this.columns()}\r\n\t\t\t\t\t\tclassName=\"mt-1\"\r\n\t\t\t\t\t\tref={(table) => this.table = table}\r\n\t\t\t\t\t\tscroll={{x : true, y : false}}\r\n\t\t\t\t\t\tsize=\"middle\"/>\r\n\t\t\t\t</Widget>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default pipe(\r\n\tinjectIntl,\r\n)(DisputedTrades);","import React from 'react';\r\nimport CustomRedirect from \"components/CustomRedirect\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport DisputedTrades from \"./components/disputedTrades\";\r\n\r\nconst Moderation = ({match}) => {\r\n\tconst path = match.path;\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<CustomRedirect from={`${path}/`} to={`${path}/disputed_trades`}\r\n\t\t\t                exact status={301}/>\r\n\t\t\t<Route path={`${path}/disputed_trades`} component={DisputedTrades}/>\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Moderation;"],"sourceRoot":""}