{"version":3,"sources":["webpack:///./resources/routes/marketplace/components/buyCoin/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateBuyOffer/components/OfferInformation/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateBuyOffer/components/PaymentSetup/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateBuyOffer/components/ProfitMargin/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateBuyOffer/components/TermsOfTrade/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateBuyOffer/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateSellOffer/components/OfferInformation/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateSellOffer/components/PaymentSetup/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateSellOffer/components/ProfitMargin/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateSellOffer/components/TermsOfTrade/index.js","webpack:///./resources/routes/marketplace/components/createOffer/components/CreateSellOffer/index.js","webpack:///./resources/routes/marketplace/components/createOffer/index.js","webpack:///./resources/routes/marketplace/components/offer/components/AmountInput/index.js","webpack:///./resources/routes/marketplace/components/offer/index.js","webpack:///./resources/routes/marketplace/components/sellCoin/index.js","webpack:///./resources/routes/marketplace/index.js"],"names":["messages","defineMessages","pageTitle","BuyCoin","drawerState","title","dataIndex","render","user","whiteSpace","paymentMethod","record","key","fixed","path","generatePath","menuItemLinks","slug","prevProps","prevState","snapshot","location","prevLocation","filters","intl","name","context","endpoint","route","filterResultComponent","clearFilter","toggleDrawer","x","y","Component","pipe","OfferInformation","getFieldValue","currency","amount","currencyFormat","profitMargin","form","marketplaceFee","walletAccount","minimumAmount","marketPricePercentage","maximumAmount","wallet","method","fee","minimum","maximum","Option","OptGroup","PaymentSetup","getFieldDecorator","accounts","currencies","paymentMethods","auth","visible","groupedPaymentMethods","o","userLocation","rules","required","account","id","category","code","country","iso_code","mapStateToProps","connect","ProfitMargin","axios","marketPriceLoading","data","handleSuccess","marketPrice","handleError","xs","isNaN","price","initialValue","type","width","parsed","parseFloat","confirmed","minutes","min","max","forwardRef","TextArea","label","tags","TermsOfTrade","countries","minRows","tag","valuePropName","Step","createdSuccessful","updatedSuccessful","CreateBuyOffer","e","history","offer","values","handleFormSuccess","confirmLoading","handleFormError","error","errors","layoutType","root","document","top","behavior","window","current","fields","v","Array","walletAccountId","paymentMethodId","walletFees","walletFee","wallet_id","errorFields","paymentSetupErrorFields","profitMarginErrorFields","marketplaceTags","handleSubmit","xl","offset","formHelper","CreateSellOffer","TabPane","CreateOffer","attributes","defaultActiveKey","AmountInput","input","Number","output","converter","rounded","value","scale","unitPrice","coin","props","onChange","coinSymbol","precision","marginBottom","PropTypes","isRequired","successful","Offer","token","chatId","loading","match","matchParams","prevMatchParams","console","sharableLink","real_max_amount","rate","unavailable","register","login","phone","email","coin_name","deadline","millify","utcDateCalendarTime","SellCoin","Marketplace","PageNotFound","module"],"mappings":"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","file":"js/chunks/21.dddf0718adf188c508b9.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Button, Col, Drawer, Row} from \"antd\";\r\nimport Widget from \"components/Widget\";\r\nimport {defineMessages, FormattedMessage, injectIntl} from \"react-intl\";\r\nimport FilterResult from \"components/FilterResult\";\r\nimport AsyncTable from \"components/AsyncTable\";\r\nimport {route} from \"support/Services/Api\";\r\nimport UserTableCell from \"components/UserTableCell\";\r\nimport {generatePath, Link} from \"react-router-dom\";\r\nimport menuItemLinks from \"containers/utils/menuItemLinks\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport context from \"context\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport {get, isEqual} from \"lodash\";\r\n\r\nconst messages = defineMessages({\r\n\tpageTitle : {\r\n\t\tdefaultMessage : \"Buy Coin - Marketplace | {name}\",\r\n\t\tid             : \"meta.title.marketplace_buy_coin\"\r\n\t},\r\n});\r\n\r\nclass BuyCoin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdrawerState : false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst location = this.props.location;\r\n\t\tconst prevLocation = prevProps.location;\r\n\r\n\t\tif (!isEqual(location, prevLocation)) {\r\n\t\t\tconst filters = get(location, 'state.filters');\r\n\t\t\tthis.applyFilter(filters)\r\n\t\t}\r\n\t}\r\n\r\n\tapplyFilter = (filters) => {\r\n\t\tthis.setState({drawerState : false}, () => {\r\n\t\t\tthis.table.applyFilter(filters);\r\n\t\t})\r\n\t};\r\n\r\n\tclearFilter = () => {\r\n\t\tthis.setState({drawerState : false}, () => {\r\n\t\t\tthis.table.clearFilter();\r\n\t\t})\r\n\t};\r\n\r\n\ttoggleDrawer = () => {\r\n\t\tthis.setState(({drawerState}) => {\r\n\t\t\treturn {\r\n\t\t\t\tdrawerState : !drawerState\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tcolumns = () => {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Seller\"\r\n\t\t\t\t\t\tid=\"common.seller\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'user',\r\n\t\t\t\trender    : (user) => (\r\n\t\t\t\t\t<UserTableCell user={user}/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Coin\"\r\n\t\t\t\t\t\tid=\"common.coin\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'coin_name',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Payment\"\r\n\t\t\t\t\t\tid=\"common.payment\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'payment_method',\r\n\t\t\t\trender    : (paymentMethod, record) => (\r\n\t\t\t\t\t<div style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t<span className=\"d-block\">\r\n\t\t\t\t\t\t\t{paymentMethod.name}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t{record.label}\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Currency\"\r\n\t\t\t\t\t\tid=\"common.currency\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'currency',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle  : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Range\"\r\n\t\t\t\t\t\tid=\"common.range\"/>\r\n\t\t\t\t),\r\n\t\t\t\tkey    : 'range',\r\n\t\t\t\trender : (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t\t{record.formatted_min_amount}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"font-weight-semi-bold mx-2\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"To\"\r\n\t\t\t\t\t\t\t\tid=\"common.to\"/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t\t{record.formatted_real_max_amount}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Rate\"\r\n\t\t\t\t\t\tid=\"common.rate\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'formatted_rate',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle  : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Action\"\r\n\t\t\t\t\t\tid=\"common.action\"/>\r\n\t\t\t\t),\r\n\t\t\t\tkey    : 'action',\r\n\t\t\t\tfixed  : 'right',\r\n\t\t\t\trender : (text, record) => {\r\n\t\t\t\t\tconst path = generatePath(menuItemLinks['marketplace.offer'].path, {\r\n\t\t\t\t\t\tslug : record.slug\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Link to={path}>\r\n\t\t\t\t\t\t\t<Button type=\"default\"\r\n\t\t\t\t\t\t\t        className=\"cp-btn-success\"\r\n\t\t\t\t\t\t\t        size=\"small\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Buy\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"common.buy\"/>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t};\r\n\r\n\tgetPageTitle() {\r\n\t\tconst {intl} = this.props;\r\n\r\n\t\treturn intl.formatMessage(messages.pageTitle, {\r\n\t\t\tname : context.name\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {drawerState} = this.state;\r\n\t\tconst endpoint = route(\"marketplace.buy-coin.table\");\r\n\r\n\t\tconst filterResultComponent = (\r\n\t\t\t<FilterResult\r\n\t\t\t\tonApplyFilter={this.applyFilter}\r\n\t\t\t\tonClearFilter={this.clearFilter}/>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>\r\n\t\t\t\t\t\t{this.getPageTitle()}\r\n\t\t\t\t\t</title>\r\n\t\t\t\t</Helmet>\r\n\r\n\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t<Col lg={8} xl={6}>\r\n\t\t\t\t\t\t<Widget styleName=\"d-none d-lg-block\"\r\n\t\t\t\t\t\t        title={\r\n\t\t\t\t\t\t\t        <FormattedMessage\r\n\t\t\t\t\t\t\t\t        defaultMessage=\"Filter Result\"\r\n\t\t\t\t\t\t\t\t        id=\"common.filter_result\"/>\r\n\t\t\t\t\t\t        }>\r\n\t\t\t\t\t\t\t{filterResultComponent}\r\n\t\t\t\t\t\t</Widget>\r\n\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t<Col lg={16} xl={18}>\r\n\t\t\t\t\t\t<div className=\"d-block d-lg-none\">\r\n\t\t\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\t\t\tvisible={drawerState}\r\n\t\t\t\t\t\t\t\tonClose={this.toggleDrawer}\r\n\t\t\t\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Filter Result\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"common.filter_result\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclosable={false}>\r\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\r\n\t\t\t\t\t\t\t\t\t{filterResultComponent}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Drawer>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Widget styleName=\"cp-card-table\"\r\n\t\t\t\t\t\t        title={\r\n\t\t\t\t\t\t\t        <FormattedMessage\r\n\t\t\t\t\t\t\t\t        defaultMessage=\"Available Offers\"\r\n\t\t\t\t\t\t\t\t        id=\"marketplace.available_offers\"/>\r\n\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t        extra={\r\n\t\t\t\t\t\t\t        <Button type=\"primary\" shape=\"circle\"\r\n\t\t\t\t\t\t\t                className=\"mb-0 material-shadow d-block d-lg-none\"\r\n\t\t\t\t\t\t\t                icon=\"filter\"\r\n\t\t\t\t\t\t\t                onClick={this.toggleDrawer}/>\r\n\t\t\t\t\t\t        }>\r\n\t\t\t\t\t\t\t<AsyncTable\r\n\t\t\t\t\t\t\t\troute={endpoint.url()}\r\n\t\t\t\t\t\t\t\tcolumns={this.columns()}\r\n\t\t\t\t\t\t\t\tclassName=\"mt-1\"\r\n\t\t\t\t\t\t\t\tref={(table) => this.table = table}\r\n\t\t\t\t\t\t\t\tscroll={{x : true, y : false}}\r\n\t\t\t\t\t\t\t\tsize=\"middle\"/>\r\n\t\t\t\t\t\t</Widget>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default pipe(\r\n\tinjectIntl,\r\n)(BuyCoin);","import React, {Component} from 'react';\r\nimport {Alert} from \"antd\";\r\nimport {FormattedMessage} from \"react-intl\";\r\nimport {upperCase} from \"lodash\";\r\nimport {currencyFormat} from \"support/utils/common\";\r\n\r\nclass OfferInformation extends Component {\r\n\tgetMinimumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('min_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMaximumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('max_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMarketPricePercentage() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst profitMargin = getFieldValue('profit_margin');\r\n\t\treturn 100 + (profitMargin || 0);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tform, marketplaceFee,\r\n\t\t\tpaymentMethod, walletAccount,\r\n\t\t} = this.props;\r\n\r\n\t\tconst currency = form.getFieldValue('currency');\r\n\t\tconst minimumAmount = this.getMinimumAmount();\r\n\t\tconst marketPricePercentage = this.getMarketPricePercentage();\r\n\t\tconst maximumAmount = this.getMaximumAmount();\r\n\r\n\t\treturn (\r\n\t\t\t<Alert type=\"info\"\r\n\t\t\t\tmessage={\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"font-weight-medium\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"Offer Information\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_offer_information\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ol className=\"mt-1 pl-3 mb-0\">\r\n\t\t\t\t\t\t\t{walletAccount && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"You are buying coin for your {wallet} account\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_summary_wallet_account_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\twallet : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{walletAccount.wallet.coin.name}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{paymentMethod && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"You want to pay with {method}\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_summary_payment_method_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tmethod : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{paymentMethod.name}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{marketplaceFee && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"The escrow fee for your selected payment method is {fee}%\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_escrow_fee_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tfee : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{marketplaceFee}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{currency && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Your preferred currency of trade is {currency}\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_summary_currency_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tcurrency : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{upperCase(currency)}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{minimumAmount && !maximumAmount && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\"You accept trade starting from {minimum}!\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_summary_minimum_amount_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tminimum : <b>{minimumAmount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{maximumAmount && minimumAmount && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\"You accept trade between {minimum} and {maximum}!\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_summary_amount_range_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tminimum : <b>{minimumAmount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\tmaximum : <b>{maximumAmount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t}\r\n\t\t\t\tshowIcon/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default OfferInformation;","import React, {Component} from 'react';\r\nimport {Col, Form, Row, Select} from \"antd\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport {connect} from \"react-redux\";\r\nimport {groupBy, keys} from \"lodash\";\r\nimport Auth from \"support/Auth\";\r\nimport OfferInformation from \"../OfferInformation\";\r\nimport Flag from \"components/Flag\";\r\n\r\nconst {Option, OptGroup} = Select;\r\n\r\nconst messages = defineMessages({\r\n\tpaymentMethod : {\r\n\t\tdefaultMessage : \"Select payment method...\",\r\n\t\tid             : \"create_offer.buy_select_payment_method_placeholder\"\r\n\t},\r\n\r\n\tcurrency : {\r\n\t\tdefaultMessage : \"Select currency...\",\r\n\t\tid             : \"create_offer.buy_select_currency_placeholder\"\r\n\t},\r\n\r\n\twalletAccount : {\r\n\t\tdefaultMessage : \"Select wallet account...\",\r\n\t\tid             : \"create_offer.buy_select_wallet_account_placeholder\"\r\n\t}\r\n});\r\n\r\nclass PaymentSetup extends Component {\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\r\n\t\tconst {\r\n\t\t\tintl, accounts, currencies,\r\n\t\t\tpaymentMethods, marketplaceFee,\r\n\t\t\tauth, form, visible,\r\n\t\t\tpaymentMethod, walletAccount\r\n\t\t} = this.props;\r\n\r\n\t\tconst groupedPaymentMethods = groupBy(paymentMethods, (o) => {\r\n\t\t\treturn o.category.name;\r\n\t\t});\r\n\r\n\t\tconst userLocation = auth.user.location;\r\n\r\n\t\treturn (\r\n\t\t\t<Row className={`${visible ? 'd-block' : 'd-none'}`}>\r\n\t\t\t\t<Col xl={16} className=\"mb-3\">\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Monedero\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_wallet_account_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"Seleccione una billetera para recibir los fondos!\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_wallet_account_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('wallet_account', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.walletAccount)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{accounts.map((account) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={account.id} value={account.id}>\r\n\t\t\t\t\t\t\t\t\t\t{account.wallet.coin.name}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Fulfill payment with\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_payment_method_label\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('payment_method', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.paymentMethod)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{keys(groupedPaymentMethods).map((category, index) => (\r\n\t\t\t\t\t\t\t\t\t<OptGroup key={index} label={category}>\r\n\t\t\t\t\t\t\t\t\t\t{groupedPaymentMethods[category].map((method) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={method.id} value={method.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{method.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</OptGroup>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Specify currency to trade with\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_currency_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"Your offer will be posted for the selected currency.\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_currency_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('currency', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.currency)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{keys(currencies).map((code) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={code} value={code}>\r\n\t\t\t\t\t\t\t\t\t\t{currencies[code].name} ({currencies[code].code})\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col xl={8}>\r\n\t\t\t\t\t<div className=\"px-xl-3 ml-xl-3 cp-border-left-xl\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"About this page\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_about_page\"/>\r\n\t\t\t\t\t\t</h1>\r\n\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"Brindamos soporte para varios mtodos de pago. \" +\r\n\t\t\t\t\t\t\t\t\t\"Siempre puede sugerir uno nuevo para que nuestro equipo lo considere.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_payment_method_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t{userLocation && (\r\n\t\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\"Esta oferta se incluir en su pas.: \" +\r\n\t\t\t\t\t\t\t\t\t\t\"{country}. Esto se usa para mejorar el algoritmo de bsqueda, \" +\r\n\t\t\t\t\t\t\t\t\t\t\"sus ofertas seguirn siendo visibles para todos.\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_country_information\"\r\n\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\tcountry : (\r\n\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{userLocation.country}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Flag code={userLocation.iso_code}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<OfferInformation marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t                  paymentMethod={paymentMethod}\r\n\t\t\t\t\t\t\t                  walletAccount={walletAccount}\r\n\t\t\t\t\t\t\t                  form={form}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth,\r\n\tcollections : {\r\n\t\tcurrencies\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\taccounts,\r\n\tauth : new Auth(auth),\r\n\tcurrencies,\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t)\r\n)(PaymentSetup);","import React, {Component} from 'react';\r\nimport {Col, Form, Icon, InputNumber, Row, Select} from \"antd\";\r\nimport {FormattedMessage} from \"react-intl\";\r\nimport {currencyFormat, pipe} from \"support/utils/common\";\r\nimport Auth from \"support/Auth\";\r\nimport {connect} from \"react-redux\";\r\nimport OfferInformation from \"../OfferInformation\";\r\nimport ApiService from \"support/Services/Api\";\r\nimport {handleError, handleSuccess} from \"support/utils/promise\";\r\n\r\nconst {Option, OptGroup} = Select;\r\n\r\n\r\nclass ProfitMargin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.api = new ApiService();\r\n\r\n\t\tthis.state = {\r\n\t\t\tmarketPrice        : null,\r\n\t\t\tmarketPriceLoading : false\r\n\t\t};\r\n\t}\r\n\r\n\tfetchMarketPrice = () => {\r\n\t\tconst {axios, route} = this.api;\r\n\t\tconst endpoint = route('marketplace.create-offer.price');\r\n\t\tconst {walletAccount, form} = this.props;\r\n\t\tconst {getFieldValue} = form;\r\n\r\n\t\tthis.setState({marketPriceLoading : true});\r\n\r\n\t\tconst data = {\r\n\t\t\twallet   : walletAccount.wallet.id,\r\n\t\t\tcurrency : getFieldValue('currency')\r\n\t\t};\r\n\r\n\t\taxios.post(endpoint.url(), data)\r\n\t\t\t.then(response => handleSuccess(response, (data) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tmarketPrice        : data.price,\r\n\t\t\t\t\tmarketPriceLoading : false,\r\n\t\t\t\t});\r\n\t\t\t}))\r\n\r\n\t\t\t.catch(error => handleError(error, () => {\r\n\t\t\t\tthis.setState({marketPriceLoading : false});\r\n\t\t\t}));\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.api.cancel()\r\n\t}\r\n\r\n\tgetMinimumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('min_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMaximumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('max_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMarketPricePercentage() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst profitMargin = getFieldValue('profit_margin');\r\n\t\treturn 100 + (profitMargin || 0);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {marketPrice, marketPriceLoading} = this.state;\r\n\r\n\t\tconst {\r\n\t\t\tintl, accounts, currencies, visible, form,\r\n\t\t\tmarketplaceFee, paymentMethod, walletAccount\r\n\t\t} = this.props;\r\n\r\n\t\tconst {getFieldDecorator, getFieldValue} = form;\r\n\r\n\t\tconst minimumAmount = this.getMinimumAmount();\r\n\t\tconst marketPricePercentage = this.getMarketPricePercentage();\r\n\t\tconst maximumAmount = this.getMaximumAmount();\r\n\r\n\t\tconst currency = getFieldValue('currency');\r\n\r\n\t\treturn (\r\n\t\t\t<Row className={`${visible ? 'd-block' : 'd-none'}`}>\r\n\t\t\t\t<Col xl={16} className=\"mb-3\">\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Margin\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_margin_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t           {(marketPrice && !isNaN(marketPricePercentage)) && (\r\n\t\t\t\t\t\t\t\t           <span className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t           \"The current market price is {marketPrice} while this offer will be sold for {price}\"\r\n\t\t\t\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t\t\t\t           id=\"create_offer.buy_input_margin_extra\"\r\n\t\t\t\t\t\t\t\t\t\t           values={{\r\n\t\t\t\t\t\t\t\t\t\t\t           price       : <b>{currencyFormat((marketPricePercentage * marketPrice) / 100, currency)}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t           marketPrice : <b>{currencyFormat(marketPrice, currency)}</b>,\r\n\t\t\t\t\t\t\t\t\t\t           }}/>\r\n\t\t\t\t\t\t\t\t           </span>\r\n\t\t\t\t\t\t\t           )}\r\n\r\n\t\t\t\t\t\t\t           <Icon spin={marketPriceLoading}\r\n\t\t\t\t\t\t\t                 onClick={this.fetchMarketPrice}\r\n\t\t\t\t\t\t\t                 type=\"sync\"/>\r\n\t\t\t\t\t\t           </span>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('profit_margin', {\r\n\t\t\t\t\t\t\tinitialValue : 5,\r\n\t\t\t\t\t\t\trules        : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber style={{width : '100%'}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Min Amount\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_min_amount_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}>\r\n\t\t\t\t\t\t{getFieldDecorator('min_amount', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber min={1} style={{width : '100%'}}\r\n\t\t\t\t\t\t\t             parser={value => {\r\n\t\t\t\t\t\t\t\t             const parsed = parseFloat(value);\r\n\t\t\t\t\t\t\t\t             if (!isNaN(parsed)) return parsed;\r\n\t\t\t\t\t\t\t             }}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Max Amount\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_max_amount_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}>\r\n\t\t\t\t\t\t{getFieldDecorator('max_amount', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber min={1} style={{width : '100%'}}\r\n\t\t\t\t\t\t\t             parser={value => {\r\n\t\t\t\t\t\t\t\t             const parsed = parseFloat(value);\r\n\t\t\t\t\t\t\t\t             if (!isNaN(parsed)) return parsed;\r\n\t\t\t\t\t\t\t             }}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Time Frame\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_confirmation_time_frame_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"Indicates the amount of time in {minutes} you will be able make their payment. \" +\r\n\t\t\t\t\t\t\t\t           \"The trade will automatically be canceled if you have not clicked {confirmed} button \" +\r\n\t\t\t\t\t\t\t\t           \"before the above payment window expires.\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_confirmation_time_frame_extra\"\r\n\t\t\t\t\t\t\t           values={{\r\n\t\t\t\t\t\t\t\t           confirmed : (\r\n\t\t\t\t\t\t\t\t\t           <b>\r\n\t\t\t\t\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t           defaultMessage=\"Mark as Paid\"\r\n\t\t\t\t\t\t\t\t\t\t\t           id=\"common.buy_mark_as_paid\"/>\r\n\t\t\t\t\t\t\t\t\t           </b>\r\n\t\t\t\t\t\t\t\t           ),\r\n\t\t\t\t\t\t\t\t           minutes   : <b>minutes</b>,\r\n\t\t\t\t\t\t\t           }}/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}>\r\n\t\t\t\t\t\t{getFieldDecorator('confirmation_time_frame', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true, min : 30, max : 4350},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber min={1} step={1} style={{width : '100%'}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col xl={8}>\r\n\t\t\t\t\t<div className=\"px-xl-3 ml-xl-3 cp-border-left-xl\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"About this page\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_about_page\"/>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"Sellers often look for the best value and great vendor ratings. \" +\r\n\t\t\t\t\t\t\t\t\t\"Choose a margin that you think your target seller will find attractive. \" +\r\n\t\t\t\t\t\t\t\t\t\"Here, you can set your exact offers limits, and advanced options.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_margin_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<OfferInformation\r\n\t\t\t\t\t\t\t\tmarketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t\tform={form} paymentMethod={paymentMethod}\r\n\t\t\t\t\t\t\t\twalletAccount={walletAccount}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth,\r\n\tcollections : {\r\n\t\tcurrencies\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\taccounts,\r\n\tauth : new Auth(auth),\r\n\tcurrencies,\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\tnull, null,\r\n\t\t{forwardRef : true}\r\n\t)\r\n)(ProfitMargin);","import React, {Component} from 'react';\r\nimport {Checkbox, Col, Divider, Form, Input, Radio, Row, Select} from \"antd\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport Auth from \"support/Auth\";\r\nimport {connect} from \"react-redux\";\r\nimport OfferInformation from \"../OfferInformation\";\r\nimport {get, keys, upperCase} from \"lodash\";\r\n\r\nconst {TextArea} = Input;\r\nconst {Option} = Select;\r\n\r\nconst messages = defineMessages({\r\n\tlabel : {\r\n\t\tdefaultMessage : \"Maximum of 25 characters...\",\r\n\t\tid             : \"create_offer.buy_input_label_placeholder\"\r\n\t},\r\n\r\n\tcountry : {\r\n\t\tdefaultMessage : \"Choose country of offer...\",\r\n\t\tid             : \"create_offer.buy_select_country_placeholder\"\r\n\t},\r\n\r\n\ttags : {\r\n\t\tdefaultMessage : \"Select up to 3 tags...\",\r\n\t\tid             : \"create_offer.buy_select_tags_placeholder\"\r\n\t},\r\n});\r\n\r\nclass TermsOfTrade extends Component {\r\n\trender() {\r\n\t\tconst {getFieldDecorator, getFieldValue} = this.props.form;\r\n\t\tconst {\r\n\t\t\ttags, visible, paymentMethod, form,\r\n\t\t\tintl, accounts, currencies, countries,\r\n\t\t\twalletAccount, marketplaceFee, auth\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Row className={`${visible ? 'd-block' : 'd-none'}`}>\r\n\t\t\t\t<Col xl={16} className=\"mb-3\">\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Terms\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_terms_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This will be shown to seller before starting a trade\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_terms_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('terms', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea autosize={{minRows : 5}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Instruction\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_instruction_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This will be shown to seller after starting a trade\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_instruction_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('instructions', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea autosize={{minRows : 5}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Label\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_label_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This will appear after your payment method\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_input_label_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true, max : 25},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input placeholder={intl.formatMessage(messages.label)}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Tags\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_tags_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This is used to improve search presence of your offer.\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_tags_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('tags', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch mode=\"multiple\"\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.tags)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{tags.map((tag) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={tag.id} value={tag.name}>\r\n\t\t\t\t\t\t\t\t\t\t{tag.name}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Country\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.buy_select_country_label\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('country', {\r\n\t\t\t\t\t\t\tinitialValue : get(auth.user, 'location.iso_code'),\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.country)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{keys(countries).map((code) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={code} value={upperCase(code)}>\r\n\t\t\t\t\t\t\t\t\t\t{countries[code]}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Divider>\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Privacy\"\r\n\t\t\t\t\t\t\tid=\"create_offer.buy_privacy\"/>\r\n\t\t\t\t\t</Divider>\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t{getFieldDecorator('privacy', {\r\n\t\t\t\t\t\t\tinitialValue : 'none',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Radio.Group>\r\n\t\t\t\t\t\t\t\t<Radio value=\"none\" className=\"d-block my-3\">\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"None\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_filter_none\"/>\r\n\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t\t<Radio value=\"all_contacts\" className=\"d-block my-3\">\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Show your contacts only\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_filter_all_contacts\"/>\r\n\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t\t<Radio value=\"trusted_contacts\" className=\"d-block my-3\">\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Show your trusted contacts only\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_filter_trusted_contacts\"/>\r\n\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Divider>\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Requirements\"\r\n\t\t\t\t\t\t\tid=\"create_offer.buy_requirements\"/>\r\n\t\t\t\t\t</Divider>\r\n\r\n\t\t\t\t\t<Form.Item className=\"mb-1\">\r\n\t\t\t\t\t\t{getFieldDecorator('require_phone_verification', {\r\n\t\t\t\t\t\t\tvaluePropName : 'checked',\r\n\t\t\t\t\t\t\tinitialValue  : true\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Checkbox>\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage=\"Require Phone Verification\"\r\n\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_require_phone_verification\"/>\r\n\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item className=\"mb-1\">\r\n\t\t\t\t\t\t{getFieldDecorator('require_email_verification', {\r\n\t\t\t\t\t\t\tvaluePropName : 'checked',\r\n\t\t\t\t\t\t\tinitialValue  : true\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Checkbox>\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage=\"Require Email Verification\"\r\n\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_require_email_verification\"/>\r\n\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col xl={8}>\r\n\t\t\t\t\t<div className=\"px-xl-3 ml-xl-3 cp-border-left-xl\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"About this page\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_about_page\"/>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"When a customer clicks into your offer, your terms and \" +\r\n\t\t\t\t\t\t\t\t\t\"instructions will tell them what to provide during the trade.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_terms_of_trade_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"You also have the option of moderating who is able to see \" +\r\n\t\t\t\t\t\t\t\t\t\"and who is able to start trade with your offer.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.buy_filter_requirements_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<OfferInformation marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t                  paymentMethod={paymentMethod}\r\n\t\t\t\t\t\t\t                  walletAccount={walletAccount}\r\n\t\t\t\t\t\t\t                  form={form}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth,\r\n\tcollections : {\r\n\t\tcurrencies,\r\n\t\tcountries\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\taccounts,\r\n\tauth : new Auth(auth),\r\n\tcurrencies,\r\n\tcountries\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t)\r\n)(TermsOfTrade);","import React, {Component} from 'react';\r\nimport {pipe} from \"support/utils/common\";\r\nimport {connect} from \"react-redux\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport Widget from \"components/Widget\";\r\nimport {Button, Form, Icon, Steps} from \"antd\";\r\nimport formHelper from \"support/Helpers/Form\";\r\nimport {handleFormError, handleFormSuccess} from \"support/utils/promise\";\r\nimport ApiService from \"support/Services/Api\";\r\nimport {assign, concat, find, intersection, isEmpty, keys, mapValues, pick} from \"lodash\"\r\nimport PaymentSetup from \"./components/PaymentSetup\";\r\nimport ProfitMargin from \"./components/ProfitMargin\";\r\nimport TermsOfTrade from \"./components/TermsOfTrade\";\r\nimport {LAYOUT_TYPE_FRAMED} from \"constants/ThemeSettings\";\r\nimport {generatePath, withRouter} from \"react-router-dom\";\r\nimport menuItemLinks from \"containers/utils/menuItemLinks\";\r\n\r\nconst {Step} = Steps;\r\n\r\nconst messages = defineMessages({\r\n\tcreatedSuccessful : {\r\n\t\tdefaultMessage : \"Offer created successfully!.\",\r\n\t\tid             : \"create_offer.offer_created\"\r\n\t},\r\n\tupdatedSuccessful : {\r\n\t\tdefaultMessage : \"Offer updated successfully!.\",\r\n\t\tid             : \"create_offer.offer_updated\"\r\n\t},\r\n});\r\n\r\nclass CreateBuyOffer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.api = new ApiService();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrent        : 0,\r\n\t\t\tconfirmLoading : false\r\n\t\t};\r\n\r\n\t\tthis.paymentSetupFields = [\r\n\t\t\t'wallet_account',\r\n\t\t\t'payment_method',\r\n\t\t\t'currency'\r\n\t\t];\r\n\r\n\t\tthis.profitMarginFields = [\r\n\t\t\t'profit_margin',\r\n\t\t\t'min_amount',\r\n\t\t\t'max_amount',\r\n\t\t\t'confirmation_time_frame',\r\n\t\t];\r\n\r\n\t\tthis.termsOfTradeFields = [\r\n\t\t\t'terms',\r\n\t\t\t'instructions',\r\n\t\t\t'label',\r\n\t\t\t'tags',\r\n\t\t\t'privacy',\r\n\t\t\t'require_phone_verification',\r\n\t\t\t'require_email_verification',\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setOfferFields();\r\n\t}\r\n\r\n\tsetOfferFields() {\r\n\t\tconst {offer, form} = this.props;\r\n\r\n\t\tif (isEmpty(offer)) return;\r\n\r\n\t\tconst values = pick(offer, concat(\r\n\t\t\tthis.paymentSetupFields,\r\n\t\t\tthis.profitMarginFields,\r\n\t\t\tthis.termsOfTradeFields\r\n\t\t));\r\n\r\n\t\tconst fields = mapValues(values,\r\n\t\t\t(v) => {\r\n\t\t\t\treturn typeof v === \"object\" &&\r\n\t\t\t\tv !== null && !Array.isArray(v) ?\r\n\t\t\t\t\t(v.id || null) : v;\r\n\t\t\t});\r\n\r\n\t\tform.setFieldsValue(fields);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.api.cancel()\r\n\t}\r\n\r\n\tgetMarketPlaceFee() {\r\n\t\tconst {accounts, form, paymentMethods} = this.props;\r\n\r\n\t\tconst walletAccountId = form.getFieldValue('wallet_account');\r\n\t\tif (walletAccountId) {\r\n\t\t\tthis.walletAccount = find(accounts, {id : walletAccountId});\r\n\t\t}\r\n\t\tconst paymentMethodId = form.getFieldValue('payment_method');\r\n\t\tif (paymentMethodId) {\r\n\t\t\tthis.paymentMethod = find(paymentMethods, {id : paymentMethodId});\r\n\t\t}\r\n\r\n\t\tif (!this.walletAccount || !this.paymentMethod) return;\r\n\t\tconst wallet = this.walletAccount.wallet;\r\n\r\n\t\tconst walletFees = this.paymentMethod.wallet_fees;\r\n\t\tconst walletFee = find(walletFees, {wallet_id : wallet.id});\r\n\r\n\t\tif (walletFee) {\r\n\t\t\treturn walletFee.marketplace_fee || wallet.marketplace_fee;\r\n\t\t} else {\r\n\t\t\treturn wallet.marketplace_fee;\r\n\t\t}\r\n\t}\r\n\r\n\thandleErrors(errors) {\r\n\t\tconst errorFields = keys(errors);\r\n\r\n\t\tconst paymentSetupErrorFields = intersection(errorFields, this.paymentSetupFields);\r\n\t\tconst profitMarginErrorFields = intersection(errorFields, this.profitMarginFields);\r\n\r\n\t\tif (paymentSetupErrorFields.length > 0) {\r\n\t\t\tthis.setState({current : 0}, () => {\r\n\t\t\t\tthis.scrollToTop();\r\n\t\t\t});\r\n\r\n\t\t} else if (profitMarginErrorFields.length > 0) {\r\n\t\t\tthis.setState({current : 1}, () => {\r\n\t\t\t\tthis.scrollToTop();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({current : 2}, () => {\r\n\t\t\t\tthis.scrollToTop();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst {form, intl, history, offer} = this.props;\r\n\t\tconst {axios, route} = this.api;\r\n\t\tconst endpoint = route('marketplace.create-offer.buy');\r\n\r\n\t\tform.validateFields((errors, values) => {\r\n\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\tif (offer && offer.id) {\r\n\t\t\t\t\tvalues = assign({}, values, {id : offer.id})\r\n\t\t\t\t}\r\n\t\t\t\taxios.post(endpoint.url(), values)\r\n\t\t\t\t\t.then(response => handleFormSuccess(response, form, (data) => {\r\n\t\t\t\t\t\t\tthis.setState({confirmLoading : false});\r\n\t\t\t\t\t\t\tconst path = generatePath(menuItemLinks['marketplace.offer'].path, {\r\n\t\t\t\t\t\t\t\tslug : data.slug\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (!isEmpty(history)) history.replace(path);\r\n\t\t\t\t\t\t}, (offer && offer.id) ?\r\n\t\t\t\t\t\tintl.formatMessage(messages.updatedSuccessful) :\r\n\t\t\t\t\t\tintl.formatMessage(messages.createdSuccessful)\r\n\t\t\t\t\t))\r\n\t\t\t\t\t.catch(error => handleFormError(error, form, values, () => {\r\n\t\t\t\t\t\tthis.setState({confirmLoading : false});\r\n\t\t\t\t\t\tif (error.response && error.response.data) {\r\n\t\t\t\t\t\t\tconst {errors} = error.response.data;\r\n\t\t\t\t\t\t\tif (!isEmpty(errors)) this.handleErrors(errors);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\t\t\t\tthis.setState({confirmLoading : true});\r\n\t\t\t} else {\r\n\t\t\t\tthis.handleErrors(errors)\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\tnext() {\r\n\t\tconst {current} = this.state;\r\n\t\tconst {form} = this.props;\r\n\r\n\t\tif (current === 0) {\r\n\t\t\tform.validateFields(this.paymentSetupFields, (errors) => {\r\n\t\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\t\tthis.setState({current : 1}, () => {\r\n\t\t\t\t\t\tthis.scrollToTop();\r\n\t\t\t\t\t\tthis.profitMarginRef.fetchMarketPrice();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (current === 1) {\r\n\t\t\tform.validateFields(this.profitMarginFields, (errors) => {\r\n\t\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\t\tthis.setState({current : 2}, () => {\r\n\t\t\t\t\t\tthis.scrollToTop();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tscrollToTop = () => {\r\n\t\tconst {layoutType} = this.props;\r\n\r\n\t\tif (layoutType === LAYOUT_TYPE_FRAMED) {\r\n\t\t\tif (typeof document !== \"undefined\") {\r\n\r\n\t\t\t\tconst root = document.getElementById('root');\r\n\r\n\t\t\t\tif (root) {\r\n\t\t\t\t\troot.scrollTo({\r\n\t\t\t\t\t\ttop      : 0,\r\n\t\t\t\t\t\tbehavior : 'smooth',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (typeof window !== \"undefined\") {\r\n\t\t\t\twindow.scrollTo({\r\n\t\t\t\t\ttop      : 0,\r\n\t\t\t\t\tbehavior : 'smooth',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tprev() {\r\n\t\tconst {current} = this.state;\r\n\t\tthis.setState({current : current - 1}, () => {\r\n\t\t\tthis.scrollToTop();\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst marketplaceFee = this.getMarketPlaceFee();\r\n\t\tconst {intl, form, offer, paymentMethods, marketplaceTags} = this.props;\r\n\t\tconst {current, confirmLoading} = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Widget\r\n\t\t\t\t\ttitle={offer && offer.id ? (\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Edit Buy Offer\"\r\n\t\t\t\t\t\t\tid=\"marketplace.edit_buy_offer\"/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Create Buy Offer\"\r\n\t\t\t\t\t\t\tid=\"marketplace.create_buy_offer\"/>\r\n\t\t\t\t\t)}>\r\n\r\n\t\t\t\t\t<div className=\"mb-5 d-none d-sm-flex\">\r\n\t\t\t\t\t\t<Steps current={current}>\r\n\t\t\t\t\t\t\t<Step\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Payment Setup\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_payment_setup\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Choose currency.\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_payment_setup_desc\"/>\r\n\t\t\t\t\t\t\t\t}/>\r\n\r\n\t\t\t\t\t\t\t<Step\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Profit Margin\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_profit_margin\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Set trade limits.\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_profit_margin_desc\"/>\r\n\t\t\t\t\t\t\t\t}/>\r\n\r\n\t\t\t\t\t\t\t<Step\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Terms of Trade\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_terms_of_trade\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"State your terms.\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.buy_terms_of_trade_desc\"/>\r\n\t\t\t\t\t\t\t\t}/>\r\n\r\n\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t<PaymentSetup intl={intl} form={form}\r\n\t\t\t\t\t\t\t              marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t              paymentMethod={this.paymentMethod}\r\n\t\t\t\t\t\t\t              walletAccount={this.walletAccount}\r\n\t\t\t\t\t\t\t              paymentMethods={paymentMethods}\r\n\t\t\t\t\t\t\t              visible={current === 0}/>\r\n\r\n\t\t\t\t\t\t\t<ProfitMargin intl={intl} form={form}\r\n\t\t\t\t\t\t\t              paymentMethod={this.paymentMethod}\r\n\t\t\t\t\t\t\t              walletAccount={this.walletAccount}\r\n\t\t\t\t\t\t\t              marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t              ref={(ref) => this.profitMarginRef = ref}\r\n\t\t\t\t\t\t\t              visible={current === 1}/>\r\n\r\n\t\t\t\t\t\t\t<TermsOfTrade intl={intl} form={form}\r\n\t\t\t\t\t\t\t              tags={marketplaceTags}\r\n\t\t\t\t\t\t\t              paymentMethod={this.paymentMethod}\r\n\t\t\t\t\t\t\t              walletAccount={this.walletAccount}\r\n\t\t\t\t\t\t\t              marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t              visible={current === 2}/>\r\n\r\n\t\t\t\t\t\t\t<Form.Item className=\"mt-4\"\r\n\t\t\t\t\t\t\t           wrapperCol={{xl : {offset : 16}}}>\r\n\t\t\t\t\t\t\t\t<div className=\"px-xl-3\">\r\n\t\t\t\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => this.prev()}\r\n\t\t\t\t\t\t\t\t\t\t        type=\"default\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"double-left\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Previous\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.buy_previous\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{current < 2 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button className=\"cp-btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t        onClick={() => this.next()}\r\n\t\t\t\t\t\t\t\t\t\t        type=\"default\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Next\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.buy_next\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"double-right\"/>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{current === 2 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t        loading={confirmLoading}\r\n\t\t\t\t\t\t\t\t\t\t        icon={'save'}\r\n\t\t\t\t\t\t\t\t\t\t        className=\"cp-btn-success\"\r\n\t\t\t\t\t\t\t\t\t\t        htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{offer && offer.id ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Edit Offer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.buy_edit_offer\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Create Offer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.buy_create_offer\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</Widget>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = ({\r\n\tsettings    : {\r\n\t\tlayoutType\r\n\t},\r\n\tcollections : {\r\n\t\tmarketplaceTags,\r\n\t\tcurrencies,\r\n\t\tpaymentMethods\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\tlayoutType,\r\n\taccounts,\r\n\tmarketplaceTags,\r\n\tcurrencies,\r\n\tpaymentMethods\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t),\r\n\tformHelper(),\r\n\twithRouter\r\n)(CreateBuyOffer);","import React, {Component} from 'react';\r\nimport {Alert} from \"antd\";\r\nimport {FormattedMessage} from \"react-intl\";\r\nimport {upperCase} from \"lodash\";\r\nimport {currencyFormat} from \"support/utils/common\";\r\n\r\nclass OfferInformation extends Component {\r\n\tgetMinimumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('min_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMaximumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('max_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMarketPricePercentage() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst profitMargin = getFieldValue('profit_margin');\r\n\t\treturn 100 + (profitMargin || 0);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tform, marketplaceFee,\r\n\t\t\tpaymentMethod, walletAccount,\r\n\t\t} = this.props;\r\n\r\n\t\tconst currency = form.getFieldValue('currency');\r\n\t\tconst minimumAmount = this.getMinimumAmount();\r\n\t\tconst marketPricePercentage = this.getMarketPricePercentage();\r\n\t\tconst maximumAmount = this.getMaximumAmount();\r\n\r\n\t\treturn (\r\n\t\t\t<Alert type=\"info\"\r\n\t\t\t\tmessage={\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"font-weight-medium\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"Offer Information\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_offer_information\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ol className=\"mt-1 pl-3 mb-0\">\r\n\t\t\t\t\t\t\t{walletAccount && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"You are selling from your {wallet} account\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_wallet_account_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\twallet : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{walletAccount.wallet.coin.name}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{paymentMethod && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"You want to get paid with {method}\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_payment_method_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tmethod : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{paymentMethod.name}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{marketplaceFee && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"The escrow fee for your selected payment method is {fee}%\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_escrow_fee_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tfee : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{marketplaceFee}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{currency && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Your preferred currency of trade is {currency}\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_currency_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tcurrency : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{upperCase(currency)}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{minimumAmount && !maximumAmount && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\"You accept trade starting from {minimum}!\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_minimum_amount_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tminimum : <b>{minimumAmount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{maximumAmount && minimumAmount && (\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\"You accept trade between {minimum} and {maximum}!\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_summary_amount_range_information\"\r\n\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\tminimum : <b>{minimumAmount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\tmaximum : <b>{maximumAmount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t}\r\n\t\t\t\tshowIcon/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default OfferInformation;","import React, {Component} from 'react';\r\nimport {Col, Form, Row, Select} from \"antd\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport {connect} from \"react-redux\";\r\nimport {groupBy, keys} from \"lodash\";\r\nimport Auth from \"support/Auth\";\r\nimport OfferInformation from \"../OfferInformation\";\r\nimport Flag from \"components/Flag\";\r\n\r\nconst {Option, OptGroup} = Select;\r\n\r\nconst messages = defineMessages({\r\n\tpaymentMethod : {\r\n\t\tdefaultMessage : \"Select payment method...\",\r\n\t\tid             : \"create_offer.sell_select_payment_method_placeholder\"\r\n\t},\r\n\r\n\tcurrency : {\r\n\t\tdefaultMessage : \"Select currency...\",\r\n\t\tid             : \"create_offer.sell_select_currency_placeholder\"\r\n\t},\r\n\r\n\twalletAccount : {\r\n\t\tdefaultMessage : \"Select wallet account...\",\r\n\t\tid             : \"create_offer.sell_select_wallet_account_placeholder\"\r\n\t}\r\n});\r\n\r\nclass PaymentSetup extends Component {\r\n\trender() {\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\r\n\t\tconst {\r\n\t\t\tintl, accounts, currencies,\r\n\t\t\tpaymentMethods, marketplaceFee,\r\n\t\t\tauth, form, visible,\r\n\t\t\tpaymentMethod, walletAccount\r\n\t\t} = this.props;\r\n\r\n\t\tconst groupedPaymentMethods = groupBy(paymentMethods, (o) => {\r\n\t\t\treturn o.category.name;\r\n\t\t});\r\n\r\n\r\n\t\tconst userLocation = auth.user.location;\r\n\r\n\t\treturn (\r\n\t\t\t<Row className={`${visible ? 'd-block' : 'd-none'}`}>\r\n\t\t\t\t<Col xl={16} className=\"mb-3\">\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Sell from Wallet Account\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_wallet_account_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"Select your wallet account to sell from!\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_wallet_account_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('wallet_account', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.walletAccount)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{accounts.map((account) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={account.id} value={account.id}>\r\n\t\t\t\t\t\t\t\t\t\t{account.wallet.coin.name}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Receive payment with\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_payment_method_label\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('payment_method', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.paymentMethod)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{keys(groupedPaymentMethods).map((category, index) => (\r\n\t\t\t\t\t\t\t\t\t<OptGroup key={index} label={category}>\r\n\t\t\t\t\t\t\t\t\t\t{groupedPaymentMethods[category].map((method) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={method.id} value={method.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{method.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</OptGroup>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Specify currency to trade with\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_currency_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"Your offer will be posted for the selected currency.\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_currency_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('currency', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.currency)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{keys(currencies).map((code) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={code} value={code}>\r\n\t\t\t\t\t\t\t\t\t\t{currencies[code].name} ({currencies[code].code})\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col xl={8}>\r\n\t\t\t\t\t<div className=\"px-xl-3 ml-xl-3 cp-border-left-xl\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"About this page\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_about_page\"/>\r\n\t\t\t\t\t\t</h1>\r\n\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"We provide support for several payment methods. \" +\r\n\t\t\t\t\t\t\t\t\t\"You can always suggest a new one for our team to consider. \"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_payment_method_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t{userLocation && (\r\n\t\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\"This offer will be listed under your country: \" +\r\n\t\t\t\t\t\t\t\t\t\t\"{country}. This is used to improve the search algorithm, \" +\r\n\t\t\t\t\t\t\t\t\t\t\"your offers will still be visible for all.\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_country_information\"\r\n\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\tcountry : (\r\n\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{userLocation.country}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Flag code={userLocation.iso_code}/>\r\n\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<OfferInformation marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t                  paymentMethod={paymentMethod}\r\n\t\t\t\t\t\t\t                  walletAccount={walletAccount}\r\n\t\t\t\t\t\t\t                  form={form}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth,\r\n\tcollections : {\r\n\t\tcurrencies\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\taccounts,\r\n\tauth : new Auth(auth),\r\n\tcurrencies,\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t)\r\n)(PaymentSetup);","import React, {Component} from 'react';\r\nimport {Alert, Col, Form, Icon, InputNumber, Row, Select} from \"antd\";\r\nimport {FormattedMessage} from \"react-intl\";\r\nimport {currencyFormat, pipe} from \"support/utils/common\";\r\nimport Auth from \"support/Auth\";\r\nimport {connect} from \"react-redux\";\r\nimport OfferInformation from \"../OfferInformation\";\r\nimport ApiService from \"support/Services/Api\";\r\nimport {handleError, handleSuccess} from \"support/utils/promise\";\r\n\r\nconst {Option, OptGroup} = Select;\r\n\r\nclass ProfitMargin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.api = new ApiService();\r\n\r\n\t\tthis.state = {\r\n\t\t\tmarketPrice        : null,\r\n\t\t\tmarketPriceLoading : false\r\n\t\t};\r\n\t}\r\n\r\n\tfetchMarketPrice = () => {\r\n\t\tconst {axios, route} = this.api;\r\n\t\tconst endpoint = route('marketplace.create-offer.price');\r\n\t\tconst {walletAccount, form} = this.props;\r\n\t\tconst {getFieldValue} = form;\r\n\r\n\t\tthis.setState({marketPriceLoading : true});\r\n\r\n\t\tconst data = {\r\n\t\t\twallet   : walletAccount.wallet.id,\r\n\t\t\tcurrency : getFieldValue('currency')\r\n\t\t};\r\n\r\n\t\taxios.post(endpoint.url(), data)\r\n\t\t\t.then(response => handleSuccess(response, (data) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tmarketPrice        : data.price,\r\n\t\t\t\t\tmarketPriceLoading : false,\r\n\t\t\t\t});\r\n\t\t\t}))\r\n\r\n\t\t\t.catch(error => handleError(error, () => {\r\n\t\t\t\tthis.setState({marketPriceLoading : false});\r\n\t\t\t}));\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.api.cancel()\r\n\t}\r\n\r\n\tgetMinimumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('min_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMaximumAmount() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst currency = getFieldValue('currency');\r\n\t\tconst amount = getFieldValue('max_amount');\r\n\t\tif (!amount) return;\r\n\t\treturn currencyFormat(amount, currency)\r\n\t}\r\n\r\n\tgetMarketPricePercentage() {\r\n\t\tconst {getFieldValue} = this.props.form;\r\n\t\tconst profitMargin = getFieldValue('profit_margin');\r\n\t\treturn 100 + (profitMargin || 0);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {marketPrice, marketPriceLoading} = this.state;\r\n\r\n\t\tconst {\r\n\t\t\tintl, accounts, currencies, visible, form,\r\n\t\t\tmarketplaceFee, paymentMethod, walletAccount\r\n\t\t} = this.props;\r\n\r\n\t\tconst {getFieldDecorator, getFieldValue} = form;\r\n\r\n\t\tconst minimumAmount = this.getMinimumAmount();\r\n\t\tconst marketPricePercentage = this.getMarketPricePercentage();\r\n\t\tconst maximumAmount = this.getMaximumAmount();\r\n\r\n\t\tconst currency = getFieldValue('currency');\r\n\r\n\t\treturn (\r\n\t\t\t<Row className={`${visible ? 'd-block' : 'd-none'}`}>\r\n\t\t\t\t<Col xl={16} className=\"mb-3\">\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Margin\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_margin_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t           {(marketPrice && !isNaN(marketPricePercentage)) && (\r\n\t\t\t\t\t\t\t\t           <span className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t           \"The current market price is {marketPrice} while this offer will be sold for {price}\"\r\n\t\t\t\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t\t\t\t           id=\"create_offer.sell_input_margin_extra\"\r\n\t\t\t\t\t\t\t\t\t\t           values={{\r\n\t\t\t\t\t\t\t\t\t\t\t           price       : <b>{currencyFormat((marketPricePercentage * marketPrice) / 100, currency)}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t           marketPrice : <b>{currencyFormat(marketPrice, currency)}</b>,\r\n\t\t\t\t\t\t\t\t\t\t           }}/>\r\n\t\t\t\t\t\t\t\t           </span>\r\n\t\t\t\t\t\t\t           )}\r\n\r\n\t\t\t\t\t\t\t           <Icon spin={marketPriceLoading}\r\n\t\t\t\t\t\t\t                 onClick={this.fetchMarketPrice}\r\n\t\t\t\t\t\t\t                 type=\"sync\"/>\r\n\t\t\t\t\t\t           </span>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('profit_margin', {\r\n\t\t\t\t\t\t\tinitialValue : 5,\r\n\t\t\t\t\t\t\trules        : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber style={{width : '100%'}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Min Amount\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_min_amount_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}>\r\n\t\t\t\t\t\t{getFieldDecorator('min_amount', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber min={1} style={{width : '100%'}}\r\n\t\t\t\t\t\t\t             parser={value => {\r\n\t\t\t\t\t\t\t\t             const parsed = parseFloat(value);\r\n\t\t\t\t\t\t\t\t             if (!isNaN(parsed)) return parsed;\r\n\t\t\t\t\t\t\t             }}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Max Amount\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_max_amount_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}>\r\n\t\t\t\t\t\t{getFieldDecorator('max_amount', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber min={1} style={{width : '100%'}}\r\n\t\t\t\t\t\t\t             parser={value => {\r\n\t\t\t\t\t\t\t\t             const parsed = parseFloat(value);\r\n\t\t\t\t\t\t\t\t             if (!isNaN(parsed)) return parsed;\r\n\t\t\t\t\t\t\t             }}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Time Frame\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_confirmation_time_frame_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"Indicates the amount of time in {minutes} your buyer has to make their payment. \" +\r\n\t\t\t\t\t\t\t\t           \"The trade will automatically be canceled if the buyer has not clicked {confirmed} \" +\r\n\t\t\t\t\t\t\t\t           \"before the payment window expires.\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_confirmation_time_frame_extra\"\r\n\t\t\t\t\t\t\t           values={{\r\n\t\t\t\t\t\t\t\t           confirmed : (\r\n\t\t\t\t\t\t\t\t\t           <b>\r\n\t\t\t\t\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t           defaultMessage=\"Mark as Paid\"\r\n\t\t\t\t\t\t\t\t\t\t\t           id=\"common.sell_mark_as_paid\"/>\r\n\t\t\t\t\t\t\t\t\t           </b>\r\n\t\t\t\t\t\t\t\t           ),\r\n\t\t\t\t\t\t\t\t           minutes   : <b>minutes</b>,\r\n\t\t\t\t\t\t\t           }}/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           wrapperCol={{xs : 16}}\r\n\t\t\t\t\t           labelCol={{xs : 8}}>\r\n\t\t\t\t\t\t{getFieldDecorator('confirmation_time_frame', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{type : 'number', required : true, min : 30, max : 4350},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<InputNumber min={1} step={1} style={{width : '100%'}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col xl={8}>\r\n\t\t\t\t\t<div className=\"px-xl-3 ml-xl-3 cp-border-left-xl\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"About this page\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_about_page\"/>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"Buyers often look for the best value and great vendor ratings. \" +\r\n\t\t\t\t\t\t\t\t\t\"Choose a margin that you think your target buyers will find attractive. \" +\r\n\t\t\t\t\t\t\t\t\t\"Here, you can set your exact offers limits, and advanced options.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_margin_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{(maximumAmount || minimumAmount) && (\r\n\t\t\t\t\t\t\t\t<Alert type=\"warning\"\r\n\t\t\t\t\t\t\t\t       message={\r\n\t\t\t\t\t\t\t\t\t       <div>\r\n\t\t\t\t\t\t\t\t\t\t       <span>\r\n\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       \"Your offer will not be shown to the public unless you comply with the following:\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t\t       id=\"create_offer.sell_offer_visibility_info\"/>\r\n\t\t\t\t\t\t\t\t\t\t       </span>\r\n\r\n\t\t\t\t\t\t\t\t\t\t       <ul className=\"mt-2 pl-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t       {maximumAmount && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t       <li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"Your wallet account has at least {maximum} available, which is the maximum amount of your offer!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"create_offer.sell_offer_visibility_max_amount_requirement\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       values={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       maximum : <b>{maximumAmount}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       </li>\r\n\t\t\t\t\t\t\t\t\t\t\t       )}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t       {!maximumAmount && minimumAmount && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t       <li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"Your wallet account has at least {minimum} available, which is the minimum amount of your offer!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"create_offer.sell_offer_visibility_min_amount_requirement\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       values={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       minimum : <b>{minimumAmount}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       </li>\r\n\t\t\t\t\t\t\t\t\t\t\t       )}\r\n\t\t\t\t\t\t\t\t\t\t       </ul>\r\n\t\t\t\t\t\t\t\t\t       </div>\r\n\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t       showIcon/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<OfferInformation\r\n\t\t\t\t\t\t\t\tmarketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t\tform={form} paymentMethod={paymentMethod}\r\n\t\t\t\t\t\t\t\twalletAccount={walletAccount}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth,\r\n\tcollections : {\r\n\t\tcurrencies\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\taccounts,\r\n\tauth : new Auth(auth),\r\n\tcurrencies,\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\tnull, null,\r\n\t\t{forwardRef : true}\r\n\t)\r\n)(ProfitMargin);","import React, {Component} from 'react';\r\nimport {Checkbox, Col, Divider, Form, Input, Radio, Row, Select} from \"antd\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport Auth from \"support/Auth\";\r\nimport {connect} from \"react-redux\";\r\nimport OfferInformation from \"../OfferInformation\";\r\nimport {get, keys, upperCase} from \"lodash\";\r\n\r\nconst {TextArea} = Input;\r\nconst {Option} = Select;\r\n\r\nconst messages = defineMessages({\r\n\tlabel : {\r\n\t\tdefaultMessage : \"Maximum of 25 characters...\",\r\n\t\tid             : \"create_offer.input_label_placeholder\"\r\n\t},\r\n\r\n\tcountry : {\r\n\t\tdefaultMessage : \"Choose country of offer...\",\r\n\t\tid             : \"create_offer.sell_select_country_placeholder\"\r\n\t},\r\n\r\n\ttags : {\r\n\t\tdefaultMessage : \"Select up to 3 tags...\",\r\n\t\tid             : \"create_offer.select_tags_placeholder\"\r\n\t},\r\n});\r\n\r\nclass TermsOfTrade extends Component {\r\n\trender() {\r\n\t\tconst {getFieldDecorator, getFieldValue} = this.props.form;\r\n\t\tconst {\r\n\t\t\tpaymentMethod, walletAccount, visible,\r\n\t\t\tintl, accounts, currencies, countries,\r\n\t\t\tmarketplaceFee, form, tags, auth\r\n\t\t} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Row className={`${visible ? 'd-block' : 'd-none'}`}>\r\n\t\t\t\t<Col xl={16} className=\"mb-3\">\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Terms\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_terms_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This will be shown to buyer before starting a trade\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_terms_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('terms', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea autosize={{minRows : 5}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Instruction\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_instruction_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This will be shown to buyer after starting a trade\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_instruction_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('instructions', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<TextArea autosize={{minRows : 5}}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Label\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_label_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This will appear after your payment method\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_input_label_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('label', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true, max : 25},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input placeholder={intl.formatMessage(messages.label)}/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Tags\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_tags_label\"/>\r\n\t\t\t\t\t           }\r\n\t\t\t\t\t           extra={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage={\r\n\t\t\t\t\t\t\t\t           \"This is used to improve search presence of your offer.\"\r\n\t\t\t\t\t\t\t           }\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_tags_extra\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('tags', {\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch mode=\"multiple\"\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.tags)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{tags.map((tag) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={tag.id} value={tag.name}>\r\n\t\t\t\t\t\t\t\t\t\t{tag.name}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t           label={\r\n\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t           defaultMessage=\"Country\"\r\n\t\t\t\t\t\t\t           id=\"create_offer.sell_select_country_label\"/>\r\n\t\t\t\t\t           }>\r\n\t\t\t\t\t\t{getFieldDecorator('country', {\r\n\t\t\t\t\t\t\tinitialValue : get(auth.user, 'location.iso_code'),\r\n\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t{required : true},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Select showSearch\r\n\t\t\t\t\t\t\t        placeholder={intl.formatMessage(messages.country)}\r\n\t\t\t\t\t\t\t        optionFilterProp=\"children\">\r\n\t\t\t\t\t\t\t\t{keys(countries).map((code) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={code} value={upperCase(code)}>\r\n\t\t\t\t\t\t\t\t\t\t{countries[code]}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Divider>\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Privacy\"\r\n\t\t\t\t\t\t\tid=\"create_offer.sell_privacy\"/>\r\n\t\t\t\t\t</Divider>\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t{getFieldDecorator('privacy', {\r\n\t\t\t\t\t\t\tinitialValue : 'none',\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Radio.Group>\r\n\t\t\t\t\t\t\t\t<Radio value=\"none\" className=\"d-block my-3\">\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"None\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_filter_none\"/>\r\n\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t\t<Radio value=\"all_contacts\" className=\"d-block my-3\">\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Show your contacts only\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_filter_all_contacts\"/>\r\n\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t\t<Radio value=\"trusted_contacts\" className=\"d-block my-3\">\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Show your trusted contacts only\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_filter_trusted_contacts\"/>\r\n\t\t\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Divider>\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Requirements\"\r\n\t\t\t\t\t\t\tid=\"create_offer.sell_requirements\"/>\r\n\t\t\t\t\t</Divider>\r\n\r\n\t\t\t\t\t<Form.Item className=\"mb-1\">\r\n\t\t\t\t\t\t{getFieldDecorator('require_phone_verification', {\r\n\t\t\t\t\t\t\tvaluePropName : 'checked',\r\n\t\t\t\t\t\t\tinitialValue  : true,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Checkbox>\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage=\"Require Phone Verification\"\r\n\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_require_phone_verification\"/>\r\n\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item className=\"mb-1\">\r\n\t\t\t\t\t\t{getFieldDecorator('require_email_verification', {\r\n\t\t\t\t\t\t\tvaluePropName : 'checked',\r\n\t\t\t\t\t\t\tinitialValue  : true,\r\n\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Checkbox>\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage=\"Require Email Verification\"\r\n\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_require_email_verification\"/>\r\n\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col xl={8}>\r\n\t\t\t\t\t<div className=\"px-xl-3 ml-xl-3 cp-border-left-xl\">\r\n\t\t\t\t\t\t<h1>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"About this page\"\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_about_page\"/>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"When a customer clicks into your offer, your terms and \" +\r\n\t\t\t\t\t\t\t\t\t\"instructions will tell them what to provide during the trade.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_terms_of_trade_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<p className=\"text-justify\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\"You also have the option of moderating who is able to see \" +\r\n\t\t\t\t\t\t\t\t\t\"and who is able to start trade with your offer.\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tid=\"create_offer.sell_filter_requirements_information\"/>\r\n\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t<OfferInformation marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t                  paymentMethod={paymentMethod}\r\n\t\t\t\t\t\t\t                  walletAccount={walletAccount}\r\n\t\t\t\t\t\t\t                  form={form}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth,\r\n\tcollections : {\r\n\t\tcurrencies,\r\n\t\tcountries\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\taccounts,\r\n\tauth : new Auth(auth),\r\n\tcurrencies,\r\n\tcountries\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t)\r\n)(TermsOfTrade);","import React, {Component} from 'react';\r\nimport {pipe} from \"support/utils/common\";\r\nimport {connect} from \"react-redux\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport Widget from \"components/Widget\";\r\nimport {Button, Form, Icon, Steps} from \"antd\";\r\nimport formHelper from \"support/Helpers/Form\";\r\nimport {handleFormError, handleFormSuccess} from \"support/utils/promise\";\r\nimport ApiService from \"support/Services/Api\";\r\nimport {assign, concat, find, intersection, isEmpty, keys, mapValues, pick} from \"lodash\"\r\nimport PaymentSetup from \"./components/PaymentSetup\";\r\nimport ProfitMargin from \"./components/ProfitMargin\";\r\nimport TermsOfTrade from \"./components/TermsOfTrade\";\r\nimport {LAYOUT_TYPE_FRAMED} from \"constants/ThemeSettings\";\r\nimport {generatePath, withRouter} from \"react-router-dom\";\r\nimport menuItemLinks from \"containers/utils/menuItemLinks\";\r\n\r\nconst {Step} = Steps;\r\n\r\nconst messages = defineMessages({\r\n\tcreatedSuccessful : {\r\n\t\tdefaultMessage : \"Offer created successfully!.\",\r\n\t\tid             : \"create_offer.offer_created\"\r\n\t},\r\n\tupdatedSuccessful : {\r\n\t\tdefaultMessage : \"Offer updated successfully!.\",\r\n\t\tid             : \"create_offer.offer_updated\"\r\n\t},\r\n});\r\n\r\nclass CreateSellOffer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.api = new ApiService();\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrent        : 0,\r\n\t\t\tconfirmLoading : false\r\n\t\t};\r\n\r\n\t\tthis.paymentSetupFields = [\r\n\t\t\t'wallet_account',\r\n\t\t\t'payment_method',\r\n\t\t\t'currency'\r\n\t\t];\r\n\r\n\t\tthis.profitMarginFields = [\r\n\t\t\t'profit_margin',\r\n\t\t\t'min_amount',\r\n\t\t\t'max_amount',\r\n\t\t\t'confirmation_time_frame',\r\n\t\t];\r\n\r\n\t\tthis.termsOfTradeFields = [\r\n\t\t\t'terms',\r\n\t\t\t'instructions',\r\n\t\t\t'label',\r\n\t\t\t'tags',\r\n\t\t\t'privacy',\r\n\t\t\t'require_phone_verification',\r\n\t\t\t'require_email_verification',\r\n\t\t];\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setOfferFields();\r\n\t}\r\n\r\n\tsetOfferFields() {\r\n\t\tconst {offer, form} = this.props;\r\n\r\n\t\tif (offer && offer.id) {\r\n\t\t\tconst values = pick(offer, concat(\r\n\t\t\t\tthis.paymentSetupFields,\r\n\t\t\t\tthis.profitMarginFields,\r\n\t\t\t\tthis.termsOfTradeFields\r\n\t\t\t));\r\n\r\n\t\t\tconst fields = mapValues(values,\r\n\t\t\t\t(v) => {\r\n\t\t\t\t\treturn typeof v === \"object\" &&\r\n\t\t\t\t\tv !== null && !Array.isArray(v) ?\r\n\t\t\t\t\t\t(v.id || null) : v;\r\n\t\t\t\t});\r\n\r\n\t\t\tform.setFieldsValue(fields);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.api.cancel()\r\n\t}\r\n\r\n\tgetMarketPlaceFee() {\r\n\t\tconst {accounts, form, paymentMethods} = this.props;\r\n\r\n\t\tconst walletAccountId = form.getFieldValue('wallet_account');\r\n\t\tif (walletAccountId) {\r\n\t\t\tthis.walletAccount = find(accounts, {id : walletAccountId});\r\n\t\t}\r\n\t\tconst paymentMethodId = form.getFieldValue('payment_method');\r\n\t\tif (paymentMethodId) {\r\n\t\t\tthis.paymentMethod = find(paymentMethods, {id : paymentMethodId});\r\n\t\t}\r\n\r\n\t\tif (!this.walletAccount || !this.paymentMethod) return;\r\n\t\tconst wallet = this.walletAccount.wallet;\r\n\r\n\t\tconst walletFees = this.paymentMethod.wallet_fees;\r\n\t\tconst walletFee = find(walletFees, {wallet_id : wallet.id});\r\n\r\n\t\tif (walletFee) {\r\n\t\t\treturn walletFee.marketplace_fee || wallet.marketplace_fee;\r\n\t\t} else {\r\n\t\t\treturn wallet.marketplace_fee;\r\n\t\t}\r\n\t}\r\n\r\n\thandleErrors(errors) {\r\n\t\tconst errorFields = keys(errors);\r\n\r\n\t\tconst paymentSetupErrorFields = intersection(errorFields, this.paymentSetupFields);\r\n\t\tconst profitMarginErrorFields = intersection(errorFields, this.profitMarginFields);\r\n\r\n\t\tif (paymentSetupErrorFields.length > 0) {\r\n\t\t\tthis.setState({current : 0}, () => {\r\n\t\t\t\tthis.scrollToTop();\r\n\t\t\t});\r\n\r\n\t\t} else if (profitMarginErrorFields.length > 0) {\r\n\t\t\tthis.setState({current : 1}, () => {\r\n\t\t\t\tthis.scrollToTop();\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\t\t\tthis.setState({current : 2}, () => {\r\n\t\t\t\tthis.scrollToTop();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst {form, intl, history, offer} = this.props;\r\n\t\tconst {axios, route} = this.api;\r\n\t\tconst endpoint = route('marketplace.create-offer.sell');\r\n\r\n\t\tform.validateFields((errors, values) => {\r\n\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\tif (offer && offer.id) {\r\n\t\t\t\t\tvalues = assign({}, values, {id : offer.id})\r\n\t\t\t\t}\r\n\t\t\t\taxios.post(endpoint.url(), values)\r\n\t\t\t\t\t.then(response => handleFormSuccess(response, form, (data) => {\r\n\t\t\t\t\t\t\tthis.setState({confirmLoading : false});\r\n\t\t\t\t\t\t\tconst path = generatePath(menuItemLinks['marketplace.offer'].path, {\r\n\t\t\t\t\t\t\t\tslug : data.slug\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tif (!isEmpty(history)) history.replace(path);\r\n\t\t\t\t\t\t}, (offer && offer.id) ?\r\n\t\t\t\t\t\tintl.formatMessage(messages.updatedSuccessful) :\r\n\t\t\t\t\t\tintl.formatMessage(messages.createdSuccessful)\r\n\t\t\t\t\t))\r\n\t\t\t\t\t.catch(error => handleFormError(error, form, values, () => {\r\n\t\t\t\t\t\tthis.setState({confirmLoading : false});\r\n\t\t\t\t\t\tif (error.response && error.response.data) {\r\n\t\t\t\t\t\t\tconst {errors} = error.response.data;\r\n\t\t\t\t\t\t\tif (!isEmpty(errors)) this.handleErrors(errors);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\tthis.setState({confirmLoading : true});\r\n\t\t\t} else {\r\n\t\t\t\tthis.handleErrors(errors)\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\tnext() {\r\n\t\tconst {current} = this.state;\r\n\t\tconst {form} = this.props;\r\n\r\n\t\tif (current === 0) {\r\n\t\t\tform.validateFields(this.paymentSetupFields, (errors) => {\r\n\t\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\t\tthis.setState({current : 1}, () => {\r\n\t\t\t\t\t\tthis.scrollToTop();\r\n\t\t\t\t\t\tthis.profitMarginRef.fetchMarketPrice();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (current === 1) {\r\n\t\t\tform.validateFields(this.profitMarginFields, (errors) => {\r\n\t\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\t\tthis.setState({current : 2}, () => {\r\n\t\t\t\t\t\tthis.scrollToTop();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tscrollToTop = () => {\r\n\t\tconst {layoutType} = this.props;\r\n\r\n\t\tif (layoutType === LAYOUT_TYPE_FRAMED) {\r\n\t\t\tif (typeof document !== \"undefined\") {\r\n\r\n\t\t\t\tconst root = document.getElementById('root');\r\n\r\n\t\t\t\tif (root) {\r\n\t\t\t\t\troot.scrollTo({\r\n\t\t\t\t\t\ttop      : 0,\r\n\t\t\t\t\t\tbehavior : 'smooth',\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (typeof window !== \"undefined\") {\r\n\t\t\t\twindow.scrollTo({\r\n\t\t\t\t\ttop      : 0,\r\n\t\t\t\t\tbehavior : 'smooth',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tprev() {\r\n\t\tconst {current} = this.state;\r\n\t\tthis.setState({current : current - 1}, () => {\r\n\t\t\tthis.scrollToTop();\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst marketplaceFee = this.getMarketPlaceFee();\r\n\t\tconst {intl, form, offer, paymentMethods, marketplaceTags} = this.props;\r\n\t\tconst {current, confirmLoading} = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Widget\r\n\t\t\t\t\ttitle={offer && offer.id ? (\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Edit Sell Offer\"\r\n\t\t\t\t\t\t\tid=\"marketplace.edit_sell_offer\"/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\tdefaultMessage=\"Create Sell Offer\"\r\n\t\t\t\t\t\t\tid=\"marketplace.create_sell_offer\"/>\r\n\t\t\t\t\t)}>\r\n\r\n\t\t\t\t\t<div className=\"mb-5 d-none d-sm-flex\">\r\n\t\t\t\t\t\t<Steps current={current}>\r\n\t\t\t\t\t\t\t<Step\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Payment Setup\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_payment_setup\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Choose currency.\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_payment_setup_desc\"/>\r\n\t\t\t\t\t\t\t\t}/>\r\n\r\n\t\t\t\t\t\t\t<Step\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Profit Margin\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_profit_margin\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Set trade limits.\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_profit_margin_desc\"/>\r\n\t\t\t\t\t\t\t\t}/>\r\n\r\n\t\t\t\t\t\t\t<Step\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Terms of Trade\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_terms_of_trade\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"State your terms.\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"create_offer.sell_terms_of_trade_desc\"/>\r\n\t\t\t\t\t\t\t\t}/>\r\n\r\n\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t<PaymentSetup intl={intl} form={form}\r\n\t\t\t\t\t\t\t              marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t              paymentMethod={this.paymentMethod}\r\n\t\t\t\t\t\t\t              walletAccount={this.walletAccount}\r\n\t\t\t\t\t\t\t              paymentMethods={paymentMethods}\r\n\t\t\t\t\t\t\t              visible={current === 0}/>\r\n\r\n\t\t\t\t\t\t\t<ProfitMargin intl={intl} form={form}\r\n\t\t\t\t\t\t\t              paymentMethod={this.paymentMethod}\r\n\t\t\t\t\t\t\t              walletAccount={this.walletAccount}\r\n\t\t\t\t\t\t\t              marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t              ref={(ref) => this.profitMarginRef = ref}\r\n\t\t\t\t\t\t\t              visible={current === 1}/>\r\n\r\n\t\t\t\t\t\t\t<TermsOfTrade intl={intl} form={form}\r\n\t\t\t\t\t\t\t              tags={marketplaceTags}\r\n\t\t\t\t\t\t\t              paymentMethod={this.paymentMethod}\r\n\t\t\t\t\t\t\t              walletAccount={this.walletAccount}\r\n\t\t\t\t\t\t\t              marketplaceFee={marketplaceFee}\r\n\t\t\t\t\t\t\t              visible={current === 2}/>\r\n\r\n\t\t\t\t\t\t\t<Form.Item className=\"mt-4\"\r\n\t\t\t\t\t\t\t           wrapperCol={{xl : {offset : 16}}}>\r\n\t\t\t\t\t\t\t\t<div className=\"px-xl-3\">\r\n\t\t\t\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => this.prev()}\r\n\t\t\t\t\t\t\t\t\t\t        type=\"default\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"double-left\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Previous\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.sell_previous\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{current < 2 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button className=\"cp-btn-primary\"\r\n\t\t\t\t\t\t\t\t\t\t        onClick={() => this.next()}\r\n\t\t\t\t\t\t\t\t\t\t        type=\"default\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Next\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.sell_next\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon type=\"double-right\"/>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{current === 2 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t        loading={confirmLoading}\r\n\t\t\t\t\t\t\t\t\t\t        icon={'save'}\r\n\t\t\t\t\t\t\t\t\t\t        className=\"cp-btn-success\"\r\n\t\t\t\t\t\t\t\t\t\t        htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{offer && offer.id ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Edit Offer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.sell_edit_offer\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Create Offer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.sell_create_offer\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</Widget>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = ({\r\n\tsettings    : {\r\n\t\tlayoutType\r\n\t},\r\n\tcollections : {\r\n\t\tmarketplaceTags,\r\n\t\tcurrencies,\r\n\t\tpaymentMethods\r\n\t},\r\n\twallet      : {\r\n\t\taccounts\r\n\t},\r\n}) => ({\r\n\tlayoutType,\r\n\taccounts,\r\n\tmarketplaceTags,\r\n\tcurrencies,\r\n\tpaymentMethods\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t),\r\n\tformHelper(),\r\n\twithRouter\r\n)(CreateSellOffer);","import React, {Component} from 'react';\r\nimport {defineMessages, FormattedMessage, injectIntl} from \"react-intl\";\r\nimport PageTabs from \"components/PageTabs\";\r\nimport {Tabs} from \"antd\";\r\nimport CreateBuyOffer from \"./components/CreateBuyOffer\";\r\nimport CreateSellOffer from \"./components/CreateSellOffer\";\r\nimport Auth from \"support/Auth\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport {connect} from \"react-redux\";\r\nimport {assign, get} from \"lodash\";\r\nimport context from \"context\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst messages = defineMessages({\r\n\tpageTitle : {\r\n\t\tdefaultMessage : \"Create Offer - Marketplace | {name}\",\r\n\t\tid             : \"meta.title.marketplace_create_offer\"\r\n\t},\r\n});\r\n\r\nconst {TabPane} = Tabs;\r\n\r\nclass CreateOffer extends Component {\r\n\tgetPageTitle() {\r\n\t\tconst {intl} = this.props;\r\n\r\n\t\treturn intl.formatMessage(messages.pageTitle, {\r\n\t\t\tname : context.name\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {location} = this.props;\r\n\t\tlet attributes = {};\r\n\t\tconst offer = get(location, 'state.offer');\r\n\r\n\t\tif (offer && offer.id) {\r\n\t\t\tif (offer.type === 'sell') {\r\n\t\t\t\tattributes = assign(attributes, {defaultActiveKey : 'create_sell_offer'});\r\n\t\t\t}\r\n\r\n\t\t\tif (offer.type === 'buy') {\r\n\t\t\t\tattributes = assign(attributes, {defaultActiveKey : 'create_buy_offer'});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>\r\n\t\t\t\t\t\t{this.getPageTitle()}\r\n\t\t\t\t\t</title>\r\n\t\t\t\t</Helmet>\r\n\r\n\t\t\t\t<PageTabs {...attributes}>\r\n\t\t\t\t\t<TabPane key=\"create_sell_offer\"\r\n\t\t\t\t\t         tab={\r\n\t\t\t\t\t\t         <span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t         <i className=\"la la-sign-out-alt cp-fs-xl mr-2\"/>\r\n\t\t\t\t\t\t\t         <span>\r\n\t\t\t\t\t\t\t\t         <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t         defaultMessage=\"Sell Offer\"\r\n\t\t\t\t\t\t\t\t\t         id=\"marketplace.sell_offer\"/>\r\n\t\t\t\t\t\t\t         </span>\r\n\t\t\t\t\t\t         </span>\r\n\t\t\t\t\t         }>\r\n\t\t\t\t\t\t<CreateSellOffer offer={offer && offer.type === \"sell\" && offer}/>\r\n\t\t\t\t\t</TabPane>\r\n\r\n\t\t\t\t\t<TabPane key=\"create_buy_offer\"\r\n\t\t\t\t\t         tab={\r\n\t\t\t\t\t\t         <span className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t         <i className=\"la la-sign-in-alt cp-fs-xl mr-2\"/>\r\n\t\t\t\t\t\t\t         <span>\r\n\t\t\t\t\t\t\t\t         <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t         defaultMessage=\"Buy Offer\"\r\n\t\t\t\t\t\t\t\t\t         id=\"marketplace.buy_offer\"/>\r\n\t\t\t\t\t\t\t         </span>\r\n\t\t\t\t\t\t         </span>\r\n\t\t\t\t\t         }>\r\n\t\t\t\t\t\t<CreateBuyOffer offer={offer && offer.type === \"buy\" && offer}/>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</PageTabs>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth\r\n}) => ({\r\n\tauth : new Auth(auth)\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t),\r\n\tinjectIntl,\r\n)(CreateOffer);","import React, {Component} from 'react';\r\nimport {Col, Input, Row} from \"antd\";\r\nimport {round} from \"lodash\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass AmountInput extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvalue : props.value,\r\n\t\t\tscale : 'price',\r\n\t\t}\r\n\t}\r\n\r\n\tconvert = (value, converter, precision) => {\r\n\t\tconst input = parseFloat(value);\r\n\t\tif (Number.isNaN(input)) return \"\";\r\n\r\n\t\tconst output = converter(input);\r\n\r\n\t\tconst rounded = round(output, precision);\r\n\t\treturn rounded.toString();\r\n\t};\r\n\r\n\thandlePriceChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tvalue : e.target.value, scale : 'price'\r\n\t\t}, () => {\r\n\t\t\tthis.triggerControlChange();\r\n\t\t});\r\n\t};\r\n\r\n\thandleCoinChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tvalue : e.target.value, scale : 'coin'\r\n\t\t}, () => {\r\n\t\t\tthis.triggerControlChange();\r\n\t\t});\r\n\t};\r\n\r\n\ttriggerControlChange() {\r\n\t\tconst {onChange} = this.props;\r\n\t\tif (typeof onChange !== \"function\") return;\r\n\t\tconst {value, scale} = this.state;\r\n\r\n\t\tif (scale === 'coin') {\r\n\t\t\tconst price = this.convert(value, this.toPrice, 2);\r\n\t\t\tonChange(parseFloat(price));\r\n\t\t} else if (scale === 'price') {\r\n\t\t\tonChange(parseFloat(value));\r\n\t\t}\r\n\t};\r\n\r\n\ttoCoin = (price) => {\r\n\t\tconst {unitPrice} = this.props;\r\n\t\treturn price / unitPrice;\r\n\t};\r\n\r\n\ttoPrice = (coin) => {\r\n\t\tconst {unitPrice} = this.props;\r\n\t\treturn coin * unitPrice;\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst {coinSymbol, currency, precision} = this.props;\r\n\t\tconst {value, scale} = this.state;\r\n\r\n\t\tconst price = scale === 'coin' ?\r\n\t\t\tthis.convert(value, this.toPrice, 2) : value;\r\n\r\n\t\tconst coin = scale === 'price' ?\r\n\t\t\tthis.convert(value, this.toCoin, precision) : value;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Input.Group>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col xs={12} style={{marginBottom : '0'}}>\r\n\t\t\t\t\t\t\t<Input addonAfter={coinSymbol}\r\n\t\t\t\t\t\t\t       onChange={this.handleCoinChange}\r\n\t\t\t\t\t\t\t       value={coin}/>\r\n\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t<Col xs={12} style={{marginBottom : '0'}}>\r\n\t\t\t\t\t\t\t<Input addonAfter={currency}\r\n\t\t\t\t\t\t\t       onChange={this.handlePriceChange}\r\n\t\t\t\t\t\t\t       value={price}/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Input.Group>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAmountInput.protoType = {\r\n\tcoinSymbol : PropTypes.string.isRequired,\r\n\tcurrency   : PropTypes.string.isRequired,\r\n\tunitPrice  : PropTypes.number.isRequired,\r\n\tprecision  : PropTypes.number.isRequired\r\n};\r\n\r\nexport default AmountInput;","import React, {Component} from 'react';\r\nimport Auth from \"support/Auth\";\r\nimport {pipe, utcDateCalendarTime} from \"support/utils/common\";\r\nimport {connect} from \"react-redux\";\r\nimport {Alert, Button, Col, Divider, Form, Rate, Row} from \"antd\";\r\nimport Widget from \"components/Widget\";\r\nimport {handleError, handleFormError, handleFormSuccess, handleSuccess} from \"support/utils/promise\";\r\nimport {isEmpty} from \"lodash\";\r\nimport Loading from \"components/Loading\";\r\nimport PageNotFound from \"components/PageNotFound\";\r\nimport ApiService from \"support/Services/Api\";\r\nimport UserAvatar from \"components/UserAvatar\";\r\nimport millify from \"millify\";\r\nimport Flag from \"components/Flag\";\r\nimport {generatePath, Link} from \"react-router-dom\";\r\nimport {defineMessages, FormattedMessage} from \"react-intl\";\r\nimport MarketplaceReviews from \"components/MarketplaceReviews\";\r\nimport AmountInput from \"./components/AmountInput\";\r\nimport formHelper from \"support/Helpers/Form\";\r\nimport menuItemLinks from \"containers/utils/menuItemLinks\";\r\nimport context from \"context\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst messages = defineMessages({\r\n\tsuccessful : {\r\n\t\tdefaultMessage : \"Trade started successfully!\",\r\n\t\tid             : \"offer.start_trade_action_successful\"\r\n\t},\r\n\tpageTitle  : {\r\n\t\tdefaultMessage : \"{title} | {name}\",\r\n\t\tid             : \"meta.title.marketplace_offer\"\r\n\t},\r\n});\r\n\r\nclass Offer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.api = new ApiService();\r\n\r\n\t\tthis.state = {\r\n\t\t\toffer          : {},\r\n\t\t\tconfirmLoading : false,\r\n\t\t\tloading        : false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchOffer();\r\n\t}\r\n\r\n\tshouldVerifyEmail() {\r\n\t\tconst {offer} = this.state;\r\n\t\tconst {auth} = this.props;\r\n\r\n\t\treturn offer.require_email_verification &&\r\n\t\t\t!auth.verifiedEmail();\r\n\t}\r\n\r\n\tshouldVerifyPhone() {\r\n\t\tconst {offer} = this.state;\r\n\t\tconst {auth} = this.props;\r\n\r\n\t\treturn offer.require_phone_verification &&\r\n\t\t\t!auth.verifiedPhone();\r\n\t}\r\n\r\n\tcanStartTrade() {\r\n\t\tconst {auth} = this.props;\r\n\t\tconst {offer} = this.state;\r\n\r\n\t\treturn offer.visibility && (\r\n\t\t\tauth.check() && (\r\n\t\t\t\tauth.user.id !== offer.user.id && (\r\n\t\t\t\t\t!this.shouldVerifyEmail() &&\r\n\t\t\t\t\t!this.shouldVerifyPhone()\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\n\tgoToChat = (chatId) => {\r\n\t\tconst {history} = this.props;\r\n\r\n\t\tconst path = generatePath(menuItemLinks['chat.view'].path, {\r\n\t\t\ttoken : chatId\r\n\t\t});\r\n\r\n\t\tif (!isEmpty(history)) {\r\n\t\t\treturn history.push(path);\r\n\t\t}\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst {axios, route} = this.api;\r\n\t\tconst {loading, offer} = this.state;\r\n\t\tconst {form, intl} = this.props;\r\n\r\n\t\tif (loading || !this.canStartTrade()) return;\r\n\r\n\t\tconst endpoint = route('marketplace.offer.start-trade', {\r\n\t\t\toffer : offer.slug\r\n\t\t});\r\n\r\n\t\tform.validateFields((errors, values) => {\r\n\t\t\tif (isEmpty(errors)) {\r\n\t\t\t\taxios.post(endpoint.url(), values)\r\n\t\t\t\t\t.then(response => handleFormSuccess(response, form, (data) => {\r\n\t\t\t\t\t\tthis.setState({confirmLoading : false});\r\n\t\t\t\t\t\tthis.goToChat(data.chat_id);\r\n\t\t\t\t\t}, intl.formatMessage(messages.successful)))\r\n\t\t\t\t\t.catch(error => handleFormError(error, form, values, () => {\r\n\t\t\t\t\t\tthis.setState({confirmLoading : false});\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\tthis.setState({confirmLoading : true});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tconst matchParams = this.props.match.params;\r\n\t\tconst prevMatchParams = prevProps.match.params;\r\n\r\n\t\tif (matchParams.slug !== prevMatchParams.slug) {\r\n\t\t\tthis.fetchOffer();\r\n\t\t\tconsole.log('Updated Offer Component');\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.api.cancel();\r\n\t}\r\n\r\n\tfetchOffer = () => {\r\n\t\tconst {axios, route} = this.api;\r\n\t\tconst {match} = this.props;\r\n\t\tthis.setState({loading : true});\r\n\r\n\t\tconst endpoint = route('marketplace.offer.get', {\r\n\t\t\toffer : match.params.slug\r\n\t\t}).url();\r\n\r\n\t\taxios.get(endpoint)\r\n\t\t\t.then(response => handleSuccess(response, (data) => {\r\n\t\t\t\tthis.setState({offer : data, loading : false});\r\n\t\t\t}))\r\n\t\t\t.catch(error => handleError(error, () => {\r\n\t\t\t\tthis.setState({offer : {}, loading : false});\r\n\t\t\t}))\r\n\t};\r\n\r\n\r\n\tgetSharableLink = () => {\r\n\t\tif (typeof window !== \"undefined\") {\r\n\t\t\treturn window.location.href;\r\n\t\t}\r\n\t};\r\n\r\n\tgetPageTitle() {\r\n\t\tconst {intl} = this.props;\r\n\t\tconst {offer} = this.state;\r\n\r\n\t\treturn intl.formatMessage(messages.pageTitle, {\r\n\t\t\tname  : context.name,\r\n\t\t\ttitle : offer.title\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {auth} = this.props;\r\n\t\tconst {getFieldDecorator} = this.props.form;\r\n\t\tconst {\r\n\t\t\tloading, offer, confirmLoading\r\n\t\t} = this.state;\r\n\r\n\t\tconst sharableLink = this.getSharableLink();\r\n\r\n\t\treturn !isEmpty(offer) ? (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>\r\n\t\t\t\t\t\t{this.getPageTitle()}\r\n\t\t\t\t\t</title>\r\n\t\t\t\t</Helmet>\r\n\r\n\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t<Col xl={16} lg={14} md={14}>\r\n\t\t\t\t\t\t<Widget>\r\n\t\t\t\t\t\t\t<h2 className=\"text-uppercase\">\r\n\t\t\t\t\t\t\t\t{offer.type === \"sell\" && (\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"How much do you want to buy?\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"offer.how_much_buy\"/>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{offer.type === \"buy\" && (\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"How much do you want to sell?\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"offer.how_much_sell\"/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</h2>\r\n\r\n\t\t\t\t\t\t\t<Form className=\"mt-3\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t<Form.Item labelAlign=\"left\"\r\n\t\t\t\t\t\t\t\t           label={\r\n\t\t\t\t\t\t\t\t\t           <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t           defaultMessage=\"Enter Amount\"\r\n\t\t\t\t\t\t\t\t\t\t           id=\"offer.enter_amount\"/>\r\n\t\t\t\t\t\t\t\t           }>\r\n\t\t\t\t\t\t\t\t\t{getFieldDecorator('amount', {\r\n\t\t\t\t\t\t\t\t\t\trules : [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype     : 'number',\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired : true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin      : offer.min_amount,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax      : offer.real_max_amount\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t\t\t<AmountInput\r\n\t\t\t\t\t\t\t\t\t\t\tcurrency={offer.currency}\r\n\t\t\t\t\t\t\t\t\t\t\tprecision={offer.coin_precision}\r\n\t\t\t\t\t\t\t\t\t\t\tcoinSymbol={offer.coin_symbol}\r\n\t\t\t\t\t\t\t\t\t\t\tunitPrice={offer.rate}/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t\t{!offer.visibility ? (\r\n\t\t\t\t\t\t\t\t\t<Alert className=\"mb-1\"\r\n\t\t\t\t\t\t\t\t\t       type=\"warning\"\r\n\t\t\t\t\t\t\t\t\t       message={\r\n\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t       id=\"offer.unavailable_info\"\r\n\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t       \"This offer is {unavailable}. This can be because the owner has \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t       \"disable the offer, cannot currently interact with the platform, \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t       \"or they do not have enough balance to fulfill the offer.\"\r\n\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t       values={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t       unavailable : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <span className=\"text-uppercase font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage=\"Unavailable\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"common.unavailable\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       )\r\n\t\t\t\t\t\t\t\t\t\t\t       }}/>\r\n\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t       showIcon/>\r\n\t\t\t\t\t\t\t\t) : !this.canStartTrade() && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Unable to Start Trade\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.unable_to_start_trade\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ol className=\"mt-1 pl-3 mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!auth.check() ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.authentication_required_desc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"You need to {register} or {login} to continue with the trade.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tregister : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Register\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.register\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlogin    : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Login\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.login\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(auth.user.id === offer.user.id) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"You cannot start a trade with yourself!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.cannot_start_trade_with_self_desc\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.shouldVerifyPhone() && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"{phone} verification is required by the owner\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.phone_verification_required_desc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tphone : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Phone\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.phone\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.shouldVerifyEmail() && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"{email} verification is required by the owner\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.email_verification_required_desc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temail : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"common.email\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" size=\"large\"\r\n\t\t\t\t\t\t\t\t\t        loading={confirmLoading} icon=\"lock\"\r\n\t\t\t\t\t\t\t\t\t        disabled={!this.canStartTrade()}\r\n\t\t\t\t\t\t\t\t\t        htmlType=\"submit\" block>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-uppercase\">\r\n\t\t\t\t\t\t\t\t\t\t\t{offer.type === \"sell\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Buy Now!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.buy_now\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t{offer.type === \"buy\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Sell Now!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"offer.sell_now\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t\t\t<Col sm={12} className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert type=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t       message={\r\n\t\t\t\t\t\t\t\t\t\t\t       <div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       <div className=\"font-weight-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage=\"Offer Information\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"offer.offer_information\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       <ol className=\"mt-1 pl-3 mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"Your amount should be between {minimum} and {maximum}!\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"offer.amount_range_information\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       values={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       maximum :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <b>{offer.formatted_real_max_amount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       minimum :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <b>{offer.formatted_min_amount}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"Rate per {coin_name} is {price}. You can buy any fraction\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"offer.rate_information\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       values={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       coin_name : <b>{offer.coin_name}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       price     : <b>{offer.formatted_rate}</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       </li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       </ol>\r\n\t\t\t\t\t\t\t\t\t\t\t       </div>\r\n\t\t\t\t\t\t\t\t\t\t       }/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col sm={12} className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert type=\"warning\"\r\n\t\t\t\t\t\t\t\t\t\t       message={\r\n\t\t\t\t\t\t\t\t\t\t\t       <div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       <div className=\"font-weight-medium\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage=\"Payment Verification\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"offer.payment_verification_warning\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       <div className=\"mt-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t       <FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       defaultMessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"The buyer of this trade has a time limit of {deadline} to pay \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"for the trade before the trade is cancelled by the system. \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"Trade will not auto-cancel when buyer has marked trade as paid, \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       \"after which buyer has to wait for seller to release coin.\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       id=\"offer.confirmation_time_information\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       values={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       deadline :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t       <b>{offer.confirmation_time_frame} minutes</b>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t       }}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t       </div>\r\n\t\t\t\t\t\t\t\t\t\t\t       </div>\r\n\t\t\t\t\t\t\t\t\t\t       }/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\r\n\r\n\t\t\t\t\t\t\t<Divider>\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tdefaultMessage=\"Owner Terms\"\r\n\t\t\t\t\t\t\t\t\tid=\"offer.owner_terms\"/>\r\n\t\t\t\t\t\t\t</Divider>\r\n\r\n\t\t\t\t\t\t\t<p style={{whiteSpace : 'pre-line'}}\r\n\t\t\t\t\t\t\t   className=\"font-italic cp-fs-lg\">\r\n\t\t\t\t\t\t\t\t{offer.terms}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</Widget>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xl={8} lg={10} md={10}>\r\n\t\t\t\t\t\t<Widget\r\n\t\t\t\t\t\t\tactions={sharableLink && [\r\n\t\t\t\t\t\t\t\t<a href={`//twitter.com/intent/tweet?url=${sharableLink}`}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"lab la-twitter cp-fs-2x\"/>\r\n\t\t\t\t\t\t\t\t</a>,\r\n\t\t\t\t\t\t\t\t<a href={`//reddit.com/submit?url=${sharableLink}`}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"lab la-reddit cp-fs-2x\"/>\r\n\t\t\t\t\t\t\t\t</a>,\r\n\t\t\t\t\t\t\t\t<a href={`//www.facebook.com/sharer.php?u=${sharableLink}`}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"lab la-facebook cp-fs-2x\"/>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t]}>\r\n\r\n\t\t\t\t\t\t\t<div className=\"text-center mb-3\">\r\n\t\t\t\t\t\t\t\t<UserAvatar\r\n\t\t\t\t\t\t\t\t\tuser={offer.user}\r\n\t\t\t\t\t\t\t\t\tclassName=\"cp-fs-3x\"\r\n\t\t\t\t\t\t\t\t\tsize={150}/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<h2 className=\"mt-2 mb-1 cp-fs-xxl font-weight-light text-center\">\r\n\t\t\t\t\t\t\t\t<span className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t<Link to={`/profile/${offer.user.name}`}>\r\n\t\t\t\t\t\t\t\t\t\t{offer.user.name}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t{offer.user.location && (\r\n\t\t\t\t\t\t\t\t\t<Flag code={offer.user.location.iso_code}/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</h2>\r\n\r\n\t\t\t\t\t\t\t<div className=\"cp-fs-lg text-center\">\r\n\t\t\t\t\t\t\t\t<Rate value={offer.user.average_marketplace_rating} disabled/>\r\n\r\n\t\t\t\t\t\t\t\t<span className={\"ml-2\"}>\r\n\t\t\t\t\t\t\t\t\t({millify(offer.user.total_marketplace_rating)})\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{offer.user.last_seen_at && (\r\n\t\t\t\t\t\t\t\t<div className=\"mt-2 align-items-center d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"la la-clock cp-fs-xl\"/>\r\n\r\n\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">\r\n\t\t\t\t\t\t\t\t\t\t{utcDateCalendarTime(offer.user.last_seen_at)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t</Widget>\r\n\r\n\t\t\t\t\t\t<MarketplaceReviews user={offer.user}/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</React.Fragment>\r\n\t\t) : !loading ? (\r\n\t\t\t<PageNotFound/>\r\n\t\t) : (\r\n\t\t\t<Loading/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({\r\n\tauth\r\n}) => ({\r\n\tauth : new Auth(auth)\r\n});\r\n\r\nexport default pipe(\r\n\tconnect(\r\n\t\tmapStateToProps\r\n\t),\r\n\tformHelper(),\r\n)(Offer);","import React, {Component} from 'react';\r\nimport {Button, Col, Drawer, Row} from \"antd\";\r\nimport Widget from \"components/Widget\";\r\nimport {defineMessages, FormattedMessage, injectIntl} from \"react-intl\";\r\nimport FilterResult from \"components/FilterResult\";\r\nimport AsyncTable from \"components/AsyncTable\";\r\nimport {route} from \"support/Services/Api\";\r\nimport UserTableCell from \"components/UserTableCell\";\r\nimport {generatePath, Link} from \"react-router-dom\";\r\nimport menuItemLinks from \"containers/utils/menuItemLinks\";\r\nimport {pipe} from \"support/utils/common\";\r\nimport context from \"context\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst messages = defineMessages({\r\n\tpageTitle : {\r\n\t\tdefaultMessage : \"Sell Coin - Marketplace | {name}\",\r\n\t\tid             : \"meta.title.marketplace_sell_coin\"\r\n\t},\r\n});\r\n\r\nclass SellCoin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdrawerState : false,\r\n\t\t}\r\n\t}\r\n\r\n\tapplyFilter = (filters) => {\r\n\t\tthis.setState({drawerState : false}, () => {\r\n\t\t\tthis.table.applyFilter(filters);\r\n\t\t})\r\n\t};\r\n\r\n\tclearFilter = () => {\r\n\t\tthis.setState({drawerState : false}, () => {\r\n\t\t\tthis.table.clearFilter();\r\n\t\t})\r\n\t};\r\n\r\n\ttoggleDrawer = () => {\r\n\t\tthis.setState(({drawerState}) => {\r\n\t\t\treturn {\r\n\t\t\t\tdrawerState : !drawerState\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\tcolumns = () => {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Buyer\"\r\n\t\t\t\t\t\tid=\"common.buyer\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'user',\r\n\t\t\t\trender    : (user) => (\r\n\t\t\t\t\t<UserTableCell user={user}/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Coin\"\r\n\t\t\t\t\t\tid=\"common.coin\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'coin_name',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Payment\"\r\n\t\t\t\t\t\tid=\"common.payment\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'payment_method',\r\n\t\t\t\trender    : (paymentMethod, record) => (\r\n\t\t\t\t\t<div style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t<span className=\"d-block\">\r\n\t\t\t\t\t\t\t{paymentMethod.name}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<small className=\"d-block\">\r\n\t\t\t\t\t\t\t{record.label}\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Currency\"\r\n\t\t\t\t\t\tid=\"common.currency\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'currency',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle  : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Range\"\r\n\t\t\t\t\t\tid=\"common.range\"/>\r\n\t\t\t\t),\r\n\t\t\t\tkey    : 'range',\r\n\t\t\t\trender : (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t\t{record.formatted_min_amount}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"font-weight-semi-bold mx-2\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tdefaultMessage=\"To\"\r\n\t\t\t\t\t\t\t\tid=\"common.to\"/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span style={{whiteSpace : 'nowrap'}}>\r\n\t\t\t\t\t\t\t{record.formatted_real_max_amount}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle     : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Rate\"\r\n\t\t\t\t\t\tid=\"common.rate\"/>\r\n\t\t\t\t),\r\n\t\t\t\tdataIndex : 'formatted_rate',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle  : (\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tdefaultMessage=\"Action\"\r\n\t\t\t\t\t\tid=\"common.action\"/>\r\n\t\t\t\t),\r\n\t\t\t\tkey    : 'action',\r\n\t\t\t\tfixed  : 'right',\r\n\t\t\t\trender : (text, record) => {\r\n\t\t\t\t\tconst path = generatePath(menuItemLinks['marketplace.offer'].path, {\r\n\t\t\t\t\t\tslug : record.slug\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Link to={path}>\r\n\t\t\t\t\t\t\t<Button type=\"default\"\r\n\t\t\t\t\t\t\t        className=\"cp-btn-danger\"\r\n\t\t\t\t\t\t\t        size=\"small\">\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Sell\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"common.sell\"/>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t)\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t};\r\n\r\n\tgetPageTitle() {\r\n\t\tconst {intl} = this.props;\r\n\r\n\t\treturn intl.formatMessage(messages.pageTitle, {\r\n\t\t\tname : context.name\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {drawerState} = this.state;\r\n\t\tconst endpoint = route(\"marketplace.sell-coin.table\");\r\n\r\n\t\tconst filterResultComponent = (\r\n\t\t\t<FilterResult\r\n\t\t\t\tonApplyFilter={this.applyFilter}\r\n\t\t\t\tonClearFilter={this.clearFilter}/>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>\r\n\t\t\t\t\t\t{this.getPageTitle()}\r\n\t\t\t\t\t</title>\r\n\t\t\t\t</Helmet>\r\n\r\n\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t<Col lg={8} xl={6}>\r\n\t\t\t\t\t\t<Widget styleName=\"d-none d-lg-block\"\r\n\t\t\t\t\t\t        title={\r\n\t\t\t\t\t\t\t        <FormattedMessage\r\n\t\t\t\t\t\t\t\t        defaultMessage=\"Filter Result\"\r\n\t\t\t\t\t\t\t\t        id=\"common.filter_result\"/>\r\n\t\t\t\t\t\t        }>\r\n\t\t\t\t\t\t\t{filterResultComponent}\r\n\t\t\t\t\t\t</Widget>\r\n\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t<Col lg={16} xl={18}>\r\n\t\t\t\t\t\t<div className=\"d-block d-lg-none\">\r\n\t\t\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\t\t\tvisible={drawerState}\r\n\t\t\t\t\t\t\t\tonClose={this.toggleDrawer}\r\n\t\t\t\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\tdefaultMessage=\"Filter Result\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"common.filter_result\"/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclosable={false}>\r\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\r\n\t\t\t\t\t\t\t\t\t{filterResultComponent}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Drawer>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<Widget styleName=\"cp-card-table\"\r\n\t\t\t\t\t\t        title={\r\n\t\t\t\t\t\t\t        <FormattedMessage\r\n\t\t\t\t\t\t\t\t        defaultMessage=\"Available Offers\"\r\n\t\t\t\t\t\t\t\t        id=\"marketplace.available_offers\"/>\r\n\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t        extra={\r\n\t\t\t\t\t\t\t        <Button type=\"primary\" shape=\"circle\"\r\n\t\t\t\t\t\t\t                className=\"mb-0 material-shadow d-block d-lg-none\"\r\n\t\t\t\t\t\t\t                icon=\"filter\"\r\n\t\t\t\t\t\t\t                onClick={this.toggleDrawer}/>\r\n\t\t\t\t\t\t        }>\r\n\t\t\t\t\t\t\t<AsyncTable\r\n\t\t\t\t\t\t\t\troute={endpoint.url()}\r\n\t\t\t\t\t\t\t\tcolumns={this.columns()}\r\n\t\t\t\t\t\t\t\tclassName=\"mt-1\"\r\n\t\t\t\t\t\t\t\tref={(table) => this.table = table}\r\n\t\t\t\t\t\t\t\tscroll={{x : true, y : false}}\r\n\t\t\t\t\t\t\t\tsize=\"middle\"/>\r\n\t\t\t\t\t\t</Widget>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default pipe(\r\n\tinjectIntl,\r\n)(SellCoin);","import React from 'react';\r\nimport CustomRedirect from \"components/CustomRedirect\";\r\nimport ProtectedRoute from \"components/ProtectedRoute\"\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport BuyCoin from \"./components/buyCoin\";\r\nimport CreateOffer from \"./components/createOffer\";\r\nimport SellCoin from \"./components/sellCoin\";\r\nimport Offer from \"./components/offer\";\r\nimport PageNotFound from \"components/PageNotFound\";\r\n\r\n\r\nconst Marketplace = ({match}) => {\r\n\tconst path = match.path;\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<CustomRedirect from={`${path}/`} to={`${path}/buy_coin`}\r\n\t\t\t                exact status={301}/>\r\n\t\t\t<Route path={`${path}/offer/:slug`} component={Offer}/>\r\n\t\t\t<Route path={`${path}/buy_coin`} component={BuyCoin}/>\r\n\t\t\t<ProtectedRoute path={`${path}/create_offer`} component={CreateOffer}/>\r\n\t\t\t<Route path={`${path}/sell_coin`} component={SellCoin}/>\r\n\t\t\t<Route component={PageNotFound}/>\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Marketplace;\r\n\r\nif (module.hot) {\r\n\tmodule.hot.accept()\r\n}"],"sourceRoot":""}