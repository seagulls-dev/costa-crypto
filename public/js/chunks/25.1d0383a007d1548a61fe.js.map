{"version":3,"sources":["webpack:///./resources/components/PhoneInput/index.js"],"names":["PhoneInput","onChange","e","React","itl","current","axios","route","intlTelInput","initialCountry","nationalMode","geoIpLookup","endpoint","handleSuccess","callback","handleError","value","otherProps","width","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;IAEMA,U;;;;;AACL,6BAAmB;AAAA;;AAAA;;AAClB;;AADkB,mEAWJ,aAAO;AAAA,UACdC,QADc,GACF,MADE,KACF,CADE;;AAErB,UAAI,oBAAJ,YAAoC;AACnC,eAAOA,QAAQ,CAACC,CAAC,CAADA,OAAhB,KAAe,CAAf;AACA;AAfiB;;AAGlB,uCAAqBC,4CAAK,CAA1B,SAAqBA,EAArB;AACA,gBAAW,IAAX,4DAAW,EAAX;AAJkB;AAKlB;;;;wCAEmB;AACnB;AACA;;;uCASkB;AAAA,UACXC,GADW,GACJ,KADI,KACJ,CADI;AAAA,UAEXC,OAFW,GAEA,KAFA,aAEA,CAFA;AAAA,sBAGK,KAHL;AAAA,UAGXC,KAHW;AAAA,UAGJC,KAHI;AAKlB,0BAAoBC,qDAAY,UAAU;AACzCC,sBAAc,EAD2B;AAEzCC,oBAAY,EAF6B;AAGzCC,mBAAW,EAAM,+BAAoB;AACpC,cAAMC,QAAQ,GAAGL,KAAK,CAAtB,SAAsB,CAAtB;AACAD,eAAK,CAALA,KAAWM,QAAQ,CAAnBN,GAAWM,EAAXN,OACO,oBAAQ;AAAA,mBAAIO,2EAAa,WAAW,gBAAU;AACnDC,sBAAQ,CAAC,wDAATA,UAAS,CAAD,CAARA;AADa,aAAiB,CAAjB;AADfR,sBAIQ,iBAAK;AAAA,mBAAIS,yEAAW,CAAf,KAAe,CAAf;AAJbT;AAKA;AAVwC,OAAV,CAAhC;;AAaA,UAAI,eAAJ,YAA+B;AAC9BF,WAAG,CAAC,KAAJA,YAAG,CAAHA;AACA;AACD;;;2CAEsB;AACtB;AACA;AACA;;;6BAEQ;AAAA,wBAC4B,KAD5B;AAAA,UACDA,GADC;AAAA,UACIY,KADJ;AAAA,UACcC,UADd;;AAGR,0BACC;AAAO,WAAG,EAAE,KAAZ;AACO,iBAAS,EAAC;AADjB;AAGO,aAAK,EAAED,KAAK,IAHnB;AAIO,gBAAQ,EAAE,KAJjB;AAKO,aAAK,EAAE;AAACE,eAAK,EAAG;AAAT;AALd,SADD;AAQA;;;;;;;;;;;EA1DuBC,+C;;eA6DVnB,U;gBAAf,Q;AAAe;;;;;;;;;;0BA7DTA,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAAAA,U","file":"js/chunks/25.1d0383a007d1548a61fe.js","sourcesContent":["import React, {Component} from 'react';\r\nimport intlTelInput from \"intl-tel-input\"\r\nimport \"intl-tel-input/build/js/utils\"\r\nimport ApiService from \"support/Services/Api\";\r\nimport {get} from \"lodash\";\r\nimport {handleError, handleSuccess} from \"support/utils/promise\";\r\n\r\nclass PhoneInput extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.phoneInputRef = React.createRef();\r\n\t\tthis.api = new ApiService();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.initIntlTelInput();\r\n\t}\r\n\r\n\thandleChange = (e) => {\r\n\t\tconst {onChange} = this.props;\r\n\t\tif (typeof onChange === \"function\") {\r\n\t\t\treturn onChange(e.target.value);\r\n\t\t}\r\n\t};\r\n\r\n\tinitIntlTelInput() {\r\n\t\tconst {itl} = this.props;\r\n\t\tconst {current} = this.phoneInputRef;\r\n\t\tconst {axios, route} = this.api;\r\n\r\n\t\tthis.intlTelInput = intlTelInput(current, {\r\n\t\t\tinitialCountry : 'auto',\r\n\t\t\tnationalMode   : false,\r\n\t\t\tgeoIpLookup    : function (callback) {\r\n\t\t\t\tconst endpoint = route('ip.info');\r\n\t\t\t\taxios.post(endpoint.url())\r\n\t\t\t\t\t.then(response => handleSuccess(response, (data) => {\r\n\t\t\t\t\t\tcallback(get(data, 'iso_code'));\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t.catch(error => handleError(error));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (typeof itl === \"function\") {\r\n\t\t\titl(this.intlTelInput);\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.intlTelInput.destroy();\r\n\t\tthis.api.cancel();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {itl, value, ...otherProps} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<input ref={this.phoneInputRef}\r\n\t\t\t       className=\"ant-input\"\r\n\t\t\t       {...otherProps}\r\n\t\t\t       value={value || \"\"}\r\n\t\t\t       onChange={this.handleChange}\r\n\t\t\t       style={{width : '100%'}}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PhoneInput;"],"sourceRoot":""}